<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0"><title>Update an environment — proton_update_environment • paws</title><!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script><!-- Bootstrap --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous"><script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="../bootstrap-toc.css"><script href="../bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous"><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet"><script href="../pkgdown.js"></script><meta property="og:title" content="Update an environment — proton_update_environment"><meta property="og:description" content="Update an environment.
If the environment is associated with an environment account connection,
don't update or include the protonServiceRoleArn and
provisioningRepository parameter to update or connect to an
environment account connection.
You can only update to a new environment account connection if that
connection was created in the same environment account that the current
environment account connection was created in. The account connection
must also be associated with the current environment.
If the environment isn't associated with an environment account
connection, don't update or include the
environmentAccountConnectionId parameter. You can't update or
connect the environment to an environment account connection if it
isn't already associated with an environment connection.
You can update either the environmentAccountConnectionId or
protonServiceRoleArn parameter and value. You can’t update both.
If the environment was configured for Amazon Web Services-managed
provisioning, omit the provisioningRepository parameter.
If the environment was configured for self-managed provisioning, specify
the provisioningRepository parameter and omit the
protonServiceRoleArn and environmentAccountConnectionId parameters.
For more information, see
Environments
and Provisioning methods
in the Proton Administrator Guide.
There are four modes for updating an environment. The deploymentType
field defines the mode.



NONE
In this mode, a deployment doesn't occur. Only the requested metadata
parameters are updated.






CURRENT_VERSION
In this mode, the environment is deployed and updated with the new spec
that you provide. Only requested parameters are updated. Don’t include
minor or major version parameters when you use this deployment-type.






MINOR_VERSION
In this mode, the environment is deployed and updated with the
published, recommended (latest) minor version of the current major
version in use, by default. You can also specify a different minor
version of the current major version in use.






MAJOR_VERSION
In this mode, the environment is deployed and updated with the
published, recommended (latest) major and minor version of the current
template, by default. You can also specify a different major version
that's higher than the major version in use and a minor version.

"><!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]--></head><body data-spy="scroll" data-target="#toc">
    

    <div class="container template-reference-topic">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="..">paws</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="">0.2.0</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav"><li>
</li>
<li>
</li>
      </ul><ul class="nav navbar-nav navbar-right"><li>
  <a href="https://github.com/paws-r/paws/" class="external-link">
    <span class="fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul></div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      

      </header><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Update an environment</h1>
    <small class="dont-index">Source: <a href="https://github.com/paws-r/paws/blob/HEAD/R/proton_operations.R" class="external-link"><code>R/proton_operations.R</code></a></small>
    <div class="hidden name"><code>proton_update_environment.Rd</code></div>
    </div>

    <div class="ref-description">
    <p>Update an environment.</p>
<p>If the environment is associated with an environment account connection,
<em>don't</em> update or include the <code>protonServiceRoleArn</code> and
<code>provisioningRepository</code> parameter to update or connect to an
environment account connection.</p>
<p>You can only update to a new environment account connection if that
connection was created in the same environment account that the current
environment account connection was created in. The account connection
must also be associated with the current environment.</p>
<p>If the environment <em>isn't</em> associated with an environment account
connection, <em>don't</em> update or include the
<code>environmentAccountConnectionId</code> parameter. You <em>can't</em> update or
connect the environment to an environment account connection if it
<em>isn't</em> already associated with an environment connection.</p>
<p>You can update either the <code>environmentAccountConnectionId</code> or
<code>protonServiceRoleArn</code> parameter and value. You can’t update both.</p>
<p>If the environment was configured for Amazon Web Services-managed
provisioning, omit the <code>provisioningRepository</code> parameter.</p>
<p>If the environment was configured for self-managed provisioning, specify
the <code>provisioningRepository</code> parameter and omit the
<code>protonServiceRoleArn</code> and <code>environmentAccountConnectionId</code> parameters.</p>
<p>For more information, see
<a href="https://docs.aws.amazon.com/proton/latest/userguide/ag-environments.html" class="external-link">Environments</a>
and <a href="https://docs.aws.amazon.com/proton/latest/userguide/ag-works-prov-methods.html" class="external-link">Provisioning methods</a>
in the <em>Proton Administrator Guide</em>.</p>
<p>There are four modes for updating an environment. The <code>deploymentType</code>
field defines the mode.</p><div class="section">
<h3 id=""></h3>


<p><code>NONE</code></p>
<p>In this mode, a deployment <em>doesn't</em> occur. Only the requested metadata
parameters are updated.</p>
</div>

<div class="section">
<h3 id="-1"></h3>


<p><code>CURRENT_VERSION</code></p>
<p>In this mode, the environment is deployed and updated with the new spec
that you provide. Only requested parameters are updated. <em>Don’t</em> include
minor or major version parameters when you use this <code>deployment-type</code>.</p>
</div>

<div class="section">
<h3 id="-2"></h3>


<p><code>MINOR_VERSION</code></p>
<p>In this mode, the environment is deployed and updated with the
published, recommended (latest) minor version of the current major
version in use, by default. You can also specify a different minor
version of the current major version in use.</p>
</div>

<div class="section">
<h3 id="-3"></h3>


<p><code>MAJOR_VERSION</code></p>
<p>In this mode, the environment is deployed and updated with the
published, recommended (latest) major and minor version of the current
template, by default. You can also specify a different major version
that's higher than the major version in use and a minor version.</p>
</div>

    </div>

    <div id="ref-usage">
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">proton_update_environment</span><span class="op">(</span><span class="va">componentRoleArn</span>, <span class="va">deploymentType</span>, <span class="va">description</span>,</span>
<span>  <span class="va">environmentAccountConnectionId</span>, <span class="va">name</span>, <span class="va">protonServiceRoleArn</span>,</span>
<span>  <span class="va">provisioningRepository</span>, <span class="va">spec</span>, <span class="va">templateMajorVersion</span>,</span>
<span>  <span class="va">templateMinorVersion</span><span class="op">)</span></span></code></pre></div>
    </div>

    <div id="arguments">
    <h2>Arguments</h2>
    <dl><dt>componentRoleArn</dt>
<dd><p>The Amazon Resource Name (ARN) of the IAM service role that Proton uses
when provisioning directly defined components in this environment. It
determines the scope of infrastructure that a component can provision.</p>
<p>The environment must have a <code>componentRoleArn</code> to allow directly defined
components to be associated with the environment.</p>
<p>For more information about components, see <a href="https://docs.aws.amazon.com/proton/latest/userguide/ag-components.html" class="external-link">Proton components</a>
in the <em>Proton Administrator Guide</em>.</p></dd>


<dt>deploymentType</dt>
<dd><p>[required] There are four modes for updating an environment. The <code>deploymentType</code>
field defines the mode.</p>
<p><code>NONE</code></p>
<p>In this mode, a deployment <em>doesn't</em> occur. Only the requested metadata
parameters are updated.</p>
<p><code>CURRENT_VERSION</code></p>
<p>In this mode, the environment is deployed and updated with the new spec
that you provide. Only requested parameters are updated. <em>Don’t</em> include
major or minor version parameters when you use this <code>deployment-type</code>.</p>
<p><code>MINOR_VERSION</code></p>
<p>In this mode, the environment is deployed and updated with the
published, recommended (latest) minor version of the current major
version in use, by default. You can also specify a different minor
version of the current major version in use.</p>
<p><code>MAJOR_VERSION</code></p>
<p>In this mode, the environment is deployed and updated with the
published, recommended (latest) major and minor version of the current
template, by default. You can also specify a different major version
that is higher than the major version in use and a minor version
(optional).</p></dd>


<dt>description</dt>
<dd><p>A description of the environment update.</p></dd>


<dt>environmentAccountConnectionId</dt>
<dd><p>The ID of the environment account connection.</p>
<p>You can only update to a new environment account connection if it was
created in the same environment account that the current environment
account connection was created in and is associated with the current
environment.</p></dd>


<dt>name</dt>
<dd><p>[required] The name of the environment to update.</p></dd>


<dt>protonServiceRoleArn</dt>
<dd><p>The Amazon Resource Name (ARN) of the Proton service role that allows
Proton to make API calls to other services your behalf.</p></dd>


<dt>provisioningRepository</dt>
<dd><p>The infrastructure repository that you use to host your rendered
infrastructure templates for self-managed provisioning.</p></dd>


<dt>spec</dt>
<dd><p>The formatted specification that defines the update.</p></dd>


<dt>templateMajorVersion</dt>
<dd><p>The major version of the environment to update.</p></dd>


<dt>templateMinorVersion</dt>
<dd><p>The minor version of the environment to update.</p></dd>

</dl></div>
    <div id="value">
    <h2>Value</h2>
    

<p>A list with the following syntax:</p>


<p></p><div class="sourceCode"><pre><code><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a><span class="fu">list</span>(</span>
<span id="cb1-2"><a href="#cb1-2" aria-hidden="true" tabindex="-1"></a>  <span class="at">environment =</span> <span class="fu">list</span>(</span>
<span id="cb1-3"><a href="#cb1-3" aria-hidden="true" tabindex="-1"></a>    <span class="at">arn =</span> <span class="st">"string"</span>,</span>
<span id="cb1-4"><a href="#cb1-4" aria-hidden="true" tabindex="-1"></a>    <span class="at">componentRoleArn =</span> <span class="st">"string"</span>,</span>
<span id="cb1-5"><a href="#cb1-5" aria-hidden="true" tabindex="-1"></a>    <span class="at">createdAt =</span> <span class="fu">as.POSIXct</span>(</span>
<span id="cb1-6"><a href="#cb1-6" aria-hidden="true" tabindex="-1"></a>      <span class="st">"2015-01-01"</span></span>
<span id="cb1-7"><a href="#cb1-7" aria-hidden="true" tabindex="-1"></a>    ),</span>
<span id="cb1-8"><a href="#cb1-8" aria-hidden="true" tabindex="-1"></a>    <span class="at">deploymentStatus =</span> <span class="st">"IN_PROGRESS"</span><span class="sc">|</span><span class="st">"FAILED"</span><span class="sc">|</span><span class="st">"SUCCEEDED"</span><span class="sc">|</span><span class="st">"DELETE_IN_PROGRESS"</span><span class="sc">|</span><span class="st">"DELETE_FAILED"</span><span class="sc">|</span><span class="st">"DELETE_COMPLETE"</span><span class="sc">|</span><span class="st">"CANCELLING"</span><span class="sc">|</span><span class="st">"CANCELLED"</span>,</span>
<span id="cb1-9"><a href="#cb1-9" aria-hidden="true" tabindex="-1"></a>    <span class="at">deploymentStatusMessage =</span> <span class="st">"string"</span>,</span>
<span id="cb1-10"><a href="#cb1-10" aria-hidden="true" tabindex="-1"></a>    <span class="at">description =</span> <span class="st">"string"</span>,</span>
<span id="cb1-11"><a href="#cb1-11" aria-hidden="true" tabindex="-1"></a>    <span class="at">environmentAccountConnectionId =</span> <span class="st">"string"</span>,</span>
<span id="cb1-12"><a href="#cb1-12" aria-hidden="true" tabindex="-1"></a>    <span class="at">environmentAccountId =</span> <span class="st">"string"</span>,</span>
<span id="cb1-13"><a href="#cb1-13" aria-hidden="true" tabindex="-1"></a>    <span class="at">lastDeploymentAttemptedAt =</span> <span class="fu">as.POSIXct</span>(</span>
<span id="cb1-14"><a href="#cb1-14" aria-hidden="true" tabindex="-1"></a>      <span class="st">"2015-01-01"</span></span>
<span id="cb1-15"><a href="#cb1-15" aria-hidden="true" tabindex="-1"></a>    ),</span>
<span id="cb1-16"><a href="#cb1-16" aria-hidden="true" tabindex="-1"></a>    <span class="at">lastDeploymentSucceededAt =</span> <span class="fu">as.POSIXct</span>(</span>
<span id="cb1-17"><a href="#cb1-17" aria-hidden="true" tabindex="-1"></a>      <span class="st">"2015-01-01"</span></span>
<span id="cb1-18"><a href="#cb1-18" aria-hidden="true" tabindex="-1"></a>    ),</span>
<span id="cb1-19"><a href="#cb1-19" aria-hidden="true" tabindex="-1"></a>    <span class="at">name =</span> <span class="st">"string"</span>,</span>
<span id="cb1-20"><a href="#cb1-20" aria-hidden="true" tabindex="-1"></a>    <span class="at">protonServiceRoleArn =</span> <span class="st">"string"</span>,</span>
<span id="cb1-21"><a href="#cb1-21" aria-hidden="true" tabindex="-1"></a>    <span class="at">provisioning =</span> <span class="st">"CUSTOMER_MANAGED"</span>,</span>
<span id="cb1-22"><a href="#cb1-22" aria-hidden="true" tabindex="-1"></a>    <span class="at">provisioningRepository =</span> <span class="fu">list</span>(</span>
<span id="cb1-23"><a href="#cb1-23" aria-hidden="true" tabindex="-1"></a>      <span class="at">arn =</span> <span class="st">"string"</span>,</span>
<span id="cb1-24"><a href="#cb1-24" aria-hidden="true" tabindex="-1"></a>      <span class="at">branch =</span> <span class="st">"string"</span>,</span>
<span id="cb1-25"><a href="#cb1-25" aria-hidden="true" tabindex="-1"></a>      <span class="at">name =</span> <span class="st">"string"</span>,</span>
<span id="cb1-26"><a href="#cb1-26" aria-hidden="true" tabindex="-1"></a>      <span class="at">provider =</span> <span class="st">"GITHUB"</span><span class="sc">|</span><span class="st">"GITHUB_ENTERPRISE"</span><span class="sc">|</span><span class="st">"BITBUCKET"</span></span>
<span id="cb1-27"><a href="#cb1-27" aria-hidden="true" tabindex="-1"></a>    ),</span>
<span id="cb1-28"><a href="#cb1-28" aria-hidden="true" tabindex="-1"></a>    <span class="at">spec =</span> <span class="st">"string"</span>,</span>
<span id="cb1-29"><a href="#cb1-29" aria-hidden="true" tabindex="-1"></a>    <span class="at">templateMajorVersion =</span> <span class="st">"string"</span>,</span>
<span id="cb1-30"><a href="#cb1-30" aria-hidden="true" tabindex="-1"></a>    <span class="at">templateMinorVersion =</span> <span class="st">"string"</span>,</span>
<span id="cb1-31"><a href="#cb1-31" aria-hidden="true" tabindex="-1"></a>    <span class="at">templateName =</span> <span class="st">"string"</span></span>
<span id="cb1-32"><a href="#cb1-32" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb1-33"><a href="#cb1-33" aria-hidden="true" tabindex="-1"></a>)</span></code></pre><p></p></div>


    </div>
    <div id="request-syntax">
    <h2>Request syntax</h2>
    


<p></p><div class="sourceCode"><pre><code><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a>svc<span class="sc">$</span><span class="fu">update_environment</span>(</span>
<span id="cb1-2"><a href="#cb1-2" aria-hidden="true" tabindex="-1"></a>  <span class="at">componentRoleArn =</span> <span class="st">"string"</span>,</span>
<span id="cb1-3"><a href="#cb1-3" aria-hidden="true" tabindex="-1"></a>  <span class="at">deploymentType =</span> <span class="st">"NONE"</span><span class="sc">|</span><span class="st">"CURRENT_VERSION"</span><span class="sc">|</span><span class="st">"MINOR_VERSION"</span><span class="sc">|</span><span class="st">"MAJOR_VERSION"</span>,</span>
<span id="cb1-4"><a href="#cb1-4" aria-hidden="true" tabindex="-1"></a>  <span class="at">description =</span> <span class="st">"string"</span>,</span>
<span id="cb1-5"><a href="#cb1-5" aria-hidden="true" tabindex="-1"></a>  <span class="at">environmentAccountConnectionId =</span> <span class="st">"string"</span>,</span>
<span id="cb1-6"><a href="#cb1-6" aria-hidden="true" tabindex="-1"></a>  <span class="at">name =</span> <span class="st">"string"</span>,</span>
<span id="cb1-7"><a href="#cb1-7" aria-hidden="true" tabindex="-1"></a>  <span class="at">protonServiceRoleArn =</span> <span class="st">"string"</span>,</span>
<span id="cb1-8"><a href="#cb1-8" aria-hidden="true" tabindex="-1"></a>  <span class="at">provisioningRepository =</span> <span class="fu">list</span>(</span>
<span id="cb1-9"><a href="#cb1-9" aria-hidden="true" tabindex="-1"></a>    <span class="at">branch =</span> <span class="st">"string"</span>,</span>
<span id="cb1-10"><a href="#cb1-10" aria-hidden="true" tabindex="-1"></a>    <span class="at">name =</span> <span class="st">"string"</span>,</span>
<span id="cb1-11"><a href="#cb1-11" aria-hidden="true" tabindex="-1"></a>    <span class="at">provider =</span> <span class="st">"GITHUB"</span><span class="sc">|</span><span class="st">"GITHUB_ENTERPRISE"</span><span class="sc">|</span><span class="st">"BITBUCKET"</span></span>
<span id="cb1-12"><a href="#cb1-12" aria-hidden="true" tabindex="-1"></a>  ),</span>
<span id="cb1-13"><a href="#cb1-13" aria-hidden="true" tabindex="-1"></a>  <span class="at">spec =</span> <span class="st">"string"</span>,</span>
<span id="cb1-14"><a href="#cb1-14" aria-hidden="true" tabindex="-1"></a>  <span class="at">templateMajorVersion =</span> <span class="st">"string"</span>,</span>
<span id="cb1-15"><a href="#cb1-15" aria-hidden="true" tabindex="-1"></a>  <span class="at">templateMinorVersion =</span> <span class="st">"string"</span></span>
<span id="cb1-16"><a href="#cb1-16" aria-hidden="true" tabindex="-1"></a>)</span></code></pre><p></p></div>
    </div>

  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <nav id="toc" data-toggle="toc" class="sticky-top"><h2 data-toc-skip>Contents</h2>
    </nav></div>
</div>


      <footer><div class="copyright">
  <p></p><p>Developed by David Kretch, Adam Banker, Dyfan Jones.</p>
</div>

<div class="pkgdown">
  <p></p><p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.7.</p>
</div>

      </footer></div>

  


  

  </body></html>

