<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0"><title>Modifies the details of a secret, including metadata and the secret
value — secretsmanager_update_secret • paws</title><!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script><!-- Bootstrap --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous"><script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="../bootstrap-toc.css"><script href="../bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous"><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet"><script href="../pkgdown.js"></script><meta property="og:title" content="Modifies the details of a secret, including metadata and the secret
value — secretsmanager_update_secret"><meta property="og:description" content="Modifies the details of a secret, including metadata and the secret
value. To change the secret value, you can also use
put_secret_value.
To change the rotation configuration of a secret, use
rotate_secret instead.
We recommend you avoid calling
update_secret at a sustained rate of
more than once every 10 minutes. When you call
update_secret to update the secret
value, Secrets Manager creates a new version of the secret. Secrets
Manager removes outdated versions when there are more than 100, but it
does not remove versions created less than 24 hours ago. If you update
the secret value more than once every 10 minutes, you create more
versions than Secrets Manager removes, and you will reach the quota for
secret versions.
If you include SecretString or SecretBinary to create a new secret
version, Secrets Manager automatically attaches the staging label
AWSCURRENT to the new version.
If you call this operation with a ClientRequestToken that matches an
existing version's VersionId, the operation results in an error. You
can't modify an existing version, you can only create a new version. To
remove a version, remove all staging labels from it. See
update_secret_version_stage.
If you don't specify an KMS encryption key, Secrets Manager uses the
Amazon Web Services managed key aws/secretsmanager. If this key
doesn't already exist in your account, then Secrets Manager creates it
for you automatically. All users and roles in the Amazon Web Services
account automatically have access to use aws/secretsmanager. Creating
aws/secretsmanager can result in a one-time significant delay in
returning the result.
If the secret is in a different Amazon Web Services account from the
credentials calling the API, then you can't use aws/secretsmanager to
encrypt the secret, and you must create and use a customer managed key.
Required permissions: secretsmanager:UpdateSecret. For more
information, see IAM policy actions for Secrets Manager
and Authentication and access control in Secrets Manager.
If you use a customer managed key, you must also have
kms:GenerateDataKey and kms:Decrypt permissions on the key. For more
information, see Secret encryption and decryption."><!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]--></head><body data-spy="scroll" data-target="#toc">
    

    <div class="container template-reference-topic">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="..">paws</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="">0.2.0</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav"><li>
</li>
<li>
</li>
      </ul><ul class="nav navbar-nav navbar-right"><li>
  <a href="https://github.com/paws-r/paws/" class="external-link">
    <span class="fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul></div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      

      </header><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Modifies the details of a secret, including metadata and the secret
value</h1>
    <small class="dont-index">Source: <a href="https://github.com/paws-r/paws/blob/HEAD/R/secretsmanager_operations.R" class="external-link"><code>R/secretsmanager_operations.R</code></a></small>
    <div class="hidden name"><code>secretsmanager_update_secret.Rd</code></div>
    </div>

    <div class="ref-description">
    <p>Modifies the details of a secret, including metadata and the secret
value. To change the secret value, you can also use
<code><a href="secretsmanager_put_secret_value.html">put_secret_value</a></code>.</p>
<p>To change the rotation configuration of a secret, use
<code><a href="secretsmanager_rotate_secret.html">rotate_secret</a></code> instead.</p>
<p>We recommend you avoid calling
<code>update_secret</code> at a sustained rate of
more than once every 10 minutes. When you call
<code>update_secret</code> to update the secret
value, Secrets Manager creates a new version of the secret. Secrets
Manager removes outdated versions when there are more than 100, but it
does not remove versions created less than 24 hours ago. If you update
the secret value more than once every 10 minutes, you create more
versions than Secrets Manager removes, and you will reach the quota for
secret versions.</p>
<p>If you include <code>SecretString</code> or <code>SecretBinary</code> to create a new secret
version, Secrets Manager automatically attaches the staging label
<code>AWSCURRENT</code> to the new version.</p>
<p>If you call this operation with a <code>ClientRequestToken</code> that matches an
existing version's <code>VersionId</code>, the operation results in an error. You
can't modify an existing version, you can only create a new version. To
remove a version, remove all staging labels from it. See
<code><a href="secretsmanager_update_secret_version_stage.html">update_secret_version_stage</a></code>.</p>
<p>If you don't specify an KMS encryption key, Secrets Manager uses the
Amazon Web Services managed key <code>aws/secretsmanager</code>. If this key
doesn't already exist in your account, then Secrets Manager creates it
for you automatically. All users and roles in the Amazon Web Services
account automatically have access to use <code>aws/secretsmanager</code>. Creating
<code>aws/secretsmanager</code> can result in a one-time significant delay in
returning the result.</p>
<p>If the secret is in a different Amazon Web Services account from the
credentials calling the API, then you can't use <code>aws/secretsmanager</code> to
encrypt the secret, and you must create and use a customer managed key.</p>
<p><strong>Required permissions:</strong> <code>secretsmanager:UpdateSecret</code>. For more
information, see <a href="https://docs.aws.amazon.com/secretsmanager/latest/userguide/reference_iam-permissions.html#reference_iam-permissions_actions" class="external-link">IAM policy actions for Secrets Manager</a>
and <a href="https://docs.aws.amazon.com/secretsmanager/latest/userguide/auth-and-access.html" class="external-link">Authentication and access control in Secrets Manager</a>.
If you use a customer managed key, you must also have
<code>kms:GenerateDataKey</code> and <code>kms:Decrypt</code> permissions on the key. For more
information, see <a href="https://docs.aws.amazon.com/secretsmanager/latest/userguide/security-encryption.html" class="external-link">Secret encryption and decryption</a>.</p>
    </div>

    <div id="ref-usage">
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">secretsmanager_update_secret</span><span class="op">(</span><span class="va">SecretId</span>, <span class="va">ClientRequestToken</span>, <span class="va">Description</span>,</span>
<span>  <span class="va">KmsKeyId</span>, <span class="va">SecretBinary</span>, <span class="va">SecretString</span><span class="op">)</span></span></code></pre></div>
    </div>

    <div id="arguments">
    <h2>Arguments</h2>
    <dl><dt>SecretId</dt>
<dd><p>[required] The ARN or name of the secret.</p>
<p>For an ARN, we recommend that you specify a complete ARN rather than a
partial ARN. See <a href="https://docs.aws.amazon.com/secretsmanager/latest/userguide/troubleshoot.html#ARN_secretnamehyphen" class="external-link">Finding a secret from a partial ARN</a>.</p></dd>


<dt>ClientRequestToken</dt>
<dd><p>If you include <code>SecretString</code> or <code>SecretBinary</code>, then Secrets Manager
creates a new version for the secret, and this parameter specifies the
unique identifier for the new version.</p>
<p>If you use the Amazon Web Services CLI or one of the Amazon Web Services
SDKs to call this operation, then you can leave this parameter empty.
The CLI or SDK generates a random UUID for you and includes it as the
value for this parameter in the request. If you don't use the SDK and
instead generate a raw HTTP request to the Secrets Manager service
endpoint, then you must generate a <code>ClientRequestToken</code> yourself for the
new version and include the value in the request.</p>
<p>This value becomes the <code>VersionId</code> of the new version.</p></dd>


<dt>Description</dt>
<dd><p>The description of the secret.</p></dd>


<dt>KmsKeyId</dt>
<dd><p>The ARN, key ID, or alias of the KMS key that Secrets Manager uses to
encrypt new secret versions as well as any existing versions the staging
labels <code>AWSCURRENT</code>, <code>AWSPENDING</code>, or <code>AWSPREVIOUS</code>. For more
information about versions and staging labels, see <a href="https://docs.aws.amazon.com/secretsmanager/latest/userguide/getting-started.html#term_version" class="external-link">Concepts: Version</a>.</p>
<p>You can only use the Amazon Web Services managed key
<code>aws/secretsmanager</code> if you call this operation using credentials from
the same Amazon Web Services account that owns the secret. If the secret
is in a different account, then you must use a customer managed key and
provide the ARN of that KMS key in this field. The user making the call
must have permissions to both the secret and the KMS key in their
respective accounts.</p></dd>


<dt>SecretBinary</dt>
<dd><p>The binary data to encrypt and store in the new version of the secret.
We recommend that you store your binary data in a file and then pass the
contents of the file as a parameter.</p>
<p>Either <code>SecretBinary</code> or <code>SecretString</code> must have a value, but not both.</p>
<p>You can't access this parameter in the Secrets Manager console.</p></dd>


<dt>SecretString</dt>
<dd><p>The text data to encrypt and store in the new version of the secret. We
recommend you use a JSON structure of key/value pairs for your secret
value.</p>
<p>Either <code>SecretBinary</code> or <code>SecretString</code> must have a value, but not both.</p></dd>

</dl></div>
    <div id="value">
    <h2>Value</h2>
    

<p>A list with the following syntax:</p>


<p></p><div class="sourceCode"><pre><code><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a><span class="fu">list</span>(</span>
<span id="cb1-2"><a href="#cb1-2" aria-hidden="true" tabindex="-1"></a>  <span class="at">ARN =</span> <span class="st">"string"</span>,</span>
<span id="cb1-3"><a href="#cb1-3" aria-hidden="true" tabindex="-1"></a>  <span class="at">Name =</span> <span class="st">"string"</span>,</span>
<span id="cb1-4"><a href="#cb1-4" aria-hidden="true" tabindex="-1"></a>  <span class="at">VersionId =</span> <span class="st">"string"</span></span>
<span id="cb1-5"><a href="#cb1-5" aria-hidden="true" tabindex="-1"></a>)</span></code></pre><p></p></div>


    </div>
    <div id="request-syntax">
    <h2>Request syntax</h2>
    


<p></p><div class="sourceCode"><pre><code><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a>svc<span class="sc">$</span><span class="fu">update_secret</span>(</span>
<span id="cb1-2"><a href="#cb1-2" aria-hidden="true" tabindex="-1"></a>  <span class="at">SecretId =</span> <span class="st">"string"</span>,</span>
<span id="cb1-3"><a href="#cb1-3" aria-hidden="true" tabindex="-1"></a>  <span class="at">ClientRequestToken =</span> <span class="st">"string"</span>,</span>
<span id="cb1-4"><a href="#cb1-4" aria-hidden="true" tabindex="-1"></a>  <span class="at">Description =</span> <span class="st">"string"</span>,</span>
<span id="cb1-5"><a href="#cb1-5" aria-hidden="true" tabindex="-1"></a>  <span class="at">KmsKeyId =</span> <span class="st">"string"</span>,</span>
<span id="cb1-6"><a href="#cb1-6" aria-hidden="true" tabindex="-1"></a>  <span class="at">SecretBinary =</span> raw,</span>
<span id="cb1-7"><a href="#cb1-7" aria-hidden="true" tabindex="-1"></a>  <span class="at">SecretString =</span> <span class="st">"string"</span></span>
<span id="cb1-8"><a href="#cb1-8" aria-hidden="true" tabindex="-1"></a>)</span></code></pre><p></p></div>
    </div>

    <div id="ref-examples">
    <h2>Examples</h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="kw">if</span> <span class="op">(</span><span class="cn">FALSE</span><span class="op">)</span> <span class="op">{</span></span>
<span><span class="co"># The following example shows how to modify the description of a secret.</span></span>
<span><span class="va">svc</span><span class="op">$</span><span class="fu">update_secret</span><span class="op">(</span></span>
<span>  ClientRequestToken <span class="op">=</span> <span class="st">"EXAMPLE1-90ab-cdef-fedc-ba987EXAMPLE"</span>,</span>
<span>  Description <span class="op">=</span> <span class="st">"This is a new description for the secret."</span>,</span>
<span>  SecretId <span class="op">=</span> <span class="st">"MyTestDatabaseSecret"</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="co"># This example shows how to update the KMS customer managed key (CMK) used</span></span>
<span><span class="co"># to encrypt the secret value. The KMS CMK must be in the same region as</span></span>
<span><span class="co"># the secret.</span></span>
<span><span class="va">svc</span><span class="op">$</span><span class="fu">update_secret</span><span class="op">(</span></span>
<span>  KmsKeyId <span class="op">=</span> <span class="st">"arn:aws:kms:us-west-2:123456789012:key/EXAMPLE2-90ab-cdef-fedc-ba987EXAMPLE"</span>,</span>
<span>  SecretId <span class="op">=</span> <span class="st">"MyTestDatabaseSecret"</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="co"># The following example shows how to create a new version of the secret by</span></span>
<span><span class="co"># updating the SecretString field. Alternatively, you can use the</span></span>
<span><span class="co"># put-secret-value operation.</span></span>
<span><span class="va">svc</span><span class="op">$</span><span class="fu">update_secret</span><span class="op">(</span></span>
<span>  SecretId <span class="op">=</span> <span class="st">"MyTestDatabaseSecret"</span>,</span>
<span>  SecretString <span class="op">=</span> <span class="st">"{JSON STRING WITH CREDENTIALS}"</span></span>
<span><span class="op">)</span></span>
<span><span class="op">}</span></span>
<span></span></code></pre></div>
    </div>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <nav id="toc" data-toggle="toc" class="sticky-top"><h2 data-toc-skip>Contents</h2>
    </nav></div>
</div>


      <footer><div class="copyright">
  <p></p><p>Developed by David Kretch, Adam Banker, Dyfan Jones.</p>
</div>

<div class="pkgdown">
  <p></p><p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.7.</p>
</div>

      </footer></div>

  


  

  </body></html>

