<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0"><title>Creates a new version with a new encrypted secret value and attaches it
to the secret — secretsmanager_put_secret_value • paws</title><!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script><!-- Bootstrap --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous"><script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="../bootstrap-toc.css"><script href="../bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous"><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet"><script href="../pkgdown.js"></script><meta property="og:title" content="Creates a new version with a new encrypted secret value and attaches it
to the secret — secretsmanager_put_secret_value"><meta property="og:description" content="Creates a new version with a new encrypted secret value and attaches it
to the secret. The version can contain a new SecretString value or a
new SecretBinary value.
We recommend you avoid calling
put_secret_value at a sustained
rate of more than once every 10 minutes. When you update the secret
value, Secrets Manager creates a new version of the secret. Secrets
Manager removes outdated versions when there are more than 100, but it
does not remove versions created less than 24 hours ago. If you call
put_secret_value more than once
every 10 minutes, you create more versions than Secrets Manager removes,
and you will reach the quota for secret versions.
You can specify the staging labels to attach to the new version in
VersionStages. If you don't include VersionStages, then Secrets
Manager automatically moves the staging label AWSCURRENT to this
version. If this operation creates the first version for the secret,
then Secrets Manager automatically attaches the staging label
AWSCURRENT to it .
If this operation moves the staging label AWSCURRENT from another
version to this version, then Secrets Manager also automatically moves
the staging label AWSPREVIOUS to the version that AWSCURRENT was
removed from.
This operation is idempotent. If you call this operation with a
ClientRequestToken that matches an existing version's VersionId, and
you specify the same secret data, the operation succeeds but does
nothing. However, if the secret data is different, then the operation
fails because you can't modify an existing version; you can only create
new ones.
Required permissions: secretsmanager:PutSecretValue. For more
information, see IAM policy actions for Secrets Manager
and Authentication and access control in Secrets Manager."><!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]--></head><body data-spy="scroll" data-target="#toc">
    

    <div class="container template-reference-topic">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="..">paws</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="">0.2.0</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav"><li>
</li>
<li>
</li>
      </ul><ul class="nav navbar-nav navbar-right"><li>
  <a href="https://github.com/paws-r/paws/" class="external-link">
    <span class="fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul></div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      

      </header><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Creates a new version with a new encrypted secret value and attaches it
to the secret</h1>
    <small class="dont-index">Source: <a href="https://github.com/paws-r/paws/blob/HEAD/R/secretsmanager_operations.R" class="external-link"><code>R/secretsmanager_operations.R</code></a></small>
    <div class="hidden name"><code>secretsmanager_put_secret_value.Rd</code></div>
    </div>

    <div class="ref-description">
    <p>Creates a new version with a new encrypted secret value and attaches it
to the secret. The version can contain a new <code>SecretString</code> value or a
new <code>SecretBinary</code> value.</p>
<p>We recommend you avoid calling
<code>put_secret_value</code> at a sustained
rate of more than once every 10 minutes. When you update the secret
value, Secrets Manager creates a new version of the secret. Secrets
Manager removes outdated versions when there are more than 100, but it
does not remove versions created less than 24 hours ago. If you call
<code>put_secret_value</code> more than once
every 10 minutes, you create more versions than Secrets Manager removes,
and you will reach the quota for secret versions.</p>
<p>You can specify the staging labels to attach to the new version in
<code>VersionStages</code>. If you don't include <code>VersionStages</code>, then Secrets
Manager automatically moves the staging label <code>AWSCURRENT</code> to this
version. If this operation creates the first version for the secret,
then Secrets Manager automatically attaches the staging label
<code>AWSCURRENT</code> to it .</p>
<p>If this operation moves the staging label <code>AWSCURRENT</code> from another
version to this version, then Secrets Manager also automatically moves
the staging label <code>AWSPREVIOUS</code> to the version that <code>AWSCURRENT</code> was
removed from.</p>
<p>This operation is idempotent. If you call this operation with a
<code>ClientRequestToken</code> that matches an existing version's VersionId, and
you specify the same secret data, the operation succeeds but does
nothing. However, if the secret data is different, then the operation
fails because you can't modify an existing version; you can only create
new ones.</p>
<p><strong>Required permissions:</strong> <code>secretsmanager:PutSecretValue</code>. For more
information, see <a href="https://docs.aws.amazon.com/secretsmanager/latest/userguide/reference_iam-permissions.html#reference_iam-permissions_actions" class="external-link">IAM policy actions for Secrets Manager</a>
and <a href="https://docs.aws.amazon.com/secretsmanager/latest/userguide/auth-and-access.html" class="external-link">Authentication and access control in Secrets Manager</a>.</p>
    </div>

    <div id="ref-usage">
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">secretsmanager_put_secret_value</span><span class="op">(</span><span class="va">SecretId</span>, <span class="va">ClientRequestToken</span>,</span>
<span>  <span class="va">SecretBinary</span>, <span class="va">SecretString</span>, <span class="va">VersionStages</span><span class="op">)</span></span></code></pre></div>
    </div>

    <div id="arguments">
    <h2>Arguments</h2>
    <dl><dt>SecretId</dt>
<dd><p>[required] The ARN or name of the secret to add a new version to.</p>
<p>For an ARN, we recommend that you specify a complete ARN rather than a
partial ARN. See <a href="https://docs.aws.amazon.com/secretsmanager/latest/userguide/troubleshoot.html#ARN_secretnamehyphen" class="external-link">Finding a secret from a partial ARN</a>.</p>
<p>If the secret doesn't already exist, use
<code><a href="secretsmanager_create_secret.html">create_secret</a></code> instead.</p></dd>


<dt>ClientRequestToken</dt>
<dd><p>A unique identifier for the new version of the secret.</p>
<p>If you use the Amazon Web Services CLI or one of the Amazon Web Services
SDKs to call this operation, then you can leave this parameter empty
because they generate a random UUID for you. If you don't use the SDK
and instead generate a raw HTTP request to the Secrets Manager service
endpoint, then you must generate a <code>ClientRequestToken</code> yourself for new
versions and include that value in the request.</p>
<p>This value helps ensure idempotency. Secrets Manager uses this value to
prevent the accidental creation of duplicate versions if there are
failures and retries during the Lambda rotation function processing. We
recommend that you generate a
<a href="https://en.wikipedia.org/wiki/Universally_unique_identifier" class="external-link">UUID-type</a>
value to ensure uniqueness within the specified secret.</p><ul><li><p>If the <code>ClientRequestToken</code> value isn't already associated with a
version of the secret then a new version of the secret is created.</p></li>
<li><p>If a version with this value already exists and that version's
<code>SecretString</code> or <code>SecretBinary</code> values are the same as those in the
request then the request is ignored. The operation is idempotent.</p></li>
<li><p>If a version with this value already exists and the version of the
<code>SecretString</code> and <code>SecretBinary</code> values are different from those in
the request, then the request fails because you can't modify a
secret version. You can only create new versions to store new secret
values.</p></li>
</ul><p>This value becomes the <code>VersionId</code> of the new version.</p></dd>


<dt>SecretBinary</dt>
<dd><p>The binary data to encrypt and store in the new version of the secret.
To use this parameter in the command-line tools, we recommend that you
store your binary data in a file and then pass the contents of the file
as a parameter.</p>
<p>You must include <code>SecretBinary</code> or <code>SecretString</code>, but not both.</p>
<p>You can't access this value from the Secrets Manager console.</p></dd>


<dt>SecretString</dt>
<dd><p>The text to encrypt and store in the new version of the secret.</p>
<p>You must include <code>SecretBinary</code> or <code>SecretString</code>, but not both.</p>
<p>We recommend you create the secret string as JSON key/value pairs, as
shown in the example.</p></dd>


<dt>VersionStages</dt>
<dd><p>A list of staging labels to attach to this version of the secret.
Secrets Manager uses staging labels to track versions of a secret
through the rotation process.</p>
<p>If you specify a staging label that's already associated with a
different version of the same secret, then Secrets Manager removes the
label from the other version and attaches it to this version. If you
specify <code>AWSCURRENT</code>, and it is already attached to another version,
then Secrets Manager also moves the staging label <code>AWSPREVIOUS</code> to the
version that <code>AWSCURRENT</code> was removed from.</p>
<p>If you don't include <code>VersionStages</code>, then Secrets Manager automatically
moves the staging label <code>AWSCURRENT</code> to this version.</p></dd>

</dl></div>
    <div id="value">
    <h2>Value</h2>
    

<p>A list with the following syntax:</p>


<p></p><div class="sourceCode"><pre><code><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a><span class="fu">list</span>(</span>
<span id="cb1-2"><a href="#cb1-2" aria-hidden="true" tabindex="-1"></a>  <span class="at">ARN =</span> <span class="st">"string"</span>,</span>
<span id="cb1-3"><a href="#cb1-3" aria-hidden="true" tabindex="-1"></a>  <span class="at">Name =</span> <span class="st">"string"</span>,</span>
<span id="cb1-4"><a href="#cb1-4" aria-hidden="true" tabindex="-1"></a>  <span class="at">VersionId =</span> <span class="st">"string"</span>,</span>
<span id="cb1-5"><a href="#cb1-5" aria-hidden="true" tabindex="-1"></a>  <span class="at">VersionStages =</span> <span class="fu">list</span>(</span>
<span id="cb1-6"><a href="#cb1-6" aria-hidden="true" tabindex="-1"></a>    <span class="st">"string"</span></span>
<span id="cb1-7"><a href="#cb1-7" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb1-8"><a href="#cb1-8" aria-hidden="true" tabindex="-1"></a>)</span></code></pre><p></p></div>


    </div>
    <div id="request-syntax">
    <h2>Request syntax</h2>
    


<p></p><div class="sourceCode"><pre><code><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a>svc<span class="sc">$</span><span class="fu">put_secret_value</span>(</span>
<span id="cb1-2"><a href="#cb1-2" aria-hidden="true" tabindex="-1"></a>  <span class="at">SecretId =</span> <span class="st">"string"</span>,</span>
<span id="cb1-3"><a href="#cb1-3" aria-hidden="true" tabindex="-1"></a>  <span class="at">ClientRequestToken =</span> <span class="st">"string"</span>,</span>
<span id="cb1-4"><a href="#cb1-4" aria-hidden="true" tabindex="-1"></a>  <span class="at">SecretBinary =</span> raw,</span>
<span id="cb1-5"><a href="#cb1-5" aria-hidden="true" tabindex="-1"></a>  <span class="at">SecretString =</span> <span class="st">"string"</span>,</span>
<span id="cb1-6"><a href="#cb1-6" aria-hidden="true" tabindex="-1"></a>  <span class="at">VersionStages =</span> <span class="fu">list</span>(</span>
<span id="cb1-7"><a href="#cb1-7" aria-hidden="true" tabindex="-1"></a>    <span class="st">"string"</span></span>
<span id="cb1-8"><a href="#cb1-8" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb1-9"><a href="#cb1-9" aria-hidden="true" tabindex="-1"></a>)</span></code></pre><p></p></div>
    </div>

    <div id="ref-examples">
    <h2>Examples</h2>
    
    </div>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <nav id="toc" data-toggle="toc" class="sticky-top"><h2 data-toc-skip>Contents</h2>
    </nav></div>
</div>


      <footer><div class="copyright">
  <p></p><p>Developed by David Kretch, Adam Banker, Dyfan Jones.</p>
</div>

<div class="pkgdown">
  <p></p><p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.7.</p>
</div>

      </footer></div>

  


  

  </body></html>

