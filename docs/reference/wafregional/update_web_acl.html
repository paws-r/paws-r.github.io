<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0"><title>This is AWS WAF Classic documentation — wafregional_update_web_acl • paws</title><!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script><!-- Bootstrap --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous"><script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="../../bootstrap-toc.css"><script src="../../bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous"><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../../pkgdown.css" rel="stylesheet"><script src="../../pkgdown.js"></script><meta property="og:title" content="This is AWS WAF Classic documentation — wafregional_update_web_acl"><meta property="og:description" content="This is AWS WAF Classic documentation. For more information, see
AWS WAF Classic
in the developer guide.
For the latest version of AWS WAF, use the AWS WAFV2 API and see the
AWS WAF Developer Guide.
With the latest version, AWS WAF has a single set of endpoints for
regional and global use.
Inserts or deletes ActivatedRule objects in a WebACL. Each Rule
identifies web requests that you want to allow, block, or count. When
you update a WebACL, you specify the following values:
A default action for the WebACL, either ALLOW or BLOCK. AWS
WAF performs the default action if a request doesn't match the
criteria in any of the Rules in a WebACL.
The Rules that you want to add or delete. If you want to replace
one Rule with another, you delete the existing Rule and add the
new one.
For each Rule, whether you want AWS WAF to allow requests, block
requests, or count requests that match the conditions in the Rule.
The order in which you want AWS WAF to evaluate the Rules in a
WebACL. If you add more than one Rule to a WebACL, AWS WAF
evaluates each request against the Rules in order based on the
value of Priority. (The Rule that has the lowest value for
Priority is evaluated first.) When a web request matches all the
predicates (such as ByteMatchSets and IPSets) in a Rule, AWS
WAF immediately takes the corresponding action, allow or block, and
doesn't evaluate the request against the remaining Rules in the
WebACL, if any.


To create and configure a WebACL, perform the following steps:
Create and update the predicates that you want to include in
Rules. For more information, see
create_byte_match_set,
update_byte_match_set,
create_ip_set,
update_ip_set,
create_sql_injection_match_set,
and
update_sql_injection_match_set.
Create and update the Rules that you want to include in the
WebACL. For more information, see
create_rule and
update_rule.
Create a WebACL. See
create_web_acl.
Use get_change_token to get the
change token that you provide in the ChangeToken parameter of an
update_web_acl request.
Submit an update_web_acl request to
specify the Rules that you want to include in the WebACL, to
specify the default action, and to associate the WebACL with a
CloudFront distribution.
The ActivatedRule can be a rule group. If you specify a rule group
as your ActivatedRule , you can exclude specific rules from that
rule group.
If you already have a rule group associated with a web ACL and want
to submit an update_web_acl request
to exclude certain rules from that rule group, you must first remove
the rule group from the web ACL, the re-insert it again, specifying
the excluded rules. For details, see ActivatedRule$ExcludedRules .


Be aware that if you try to add a RATE_BASED rule to a web ACL without
setting the rule type when first creating the rule, the
update_web_acl request will fail because
the request tries to add a REGULAR rule (the default rule type) with the
specified ID, which does not exist.
For more information about how to use the AWS WAF API to allow or block
HTTP requests, see the AWS WAF Developer Guide."><!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]--></head><body data-spy="scroll" data-target="#toc">
    

    <div class="container template-reference-topic">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../../index.html">paws</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="">0.2.0</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav"><li>
  <a href="../../reference/index.html">Reference</a>
</li>
<li>
  <a href="../../news/index.html">Changelog</a>
</li>
      </ul><ul class="nav navbar-nav navbar-right"><li>
  <a href="https://github.com/paws-r/paws/" class="external-link">
    <span class="fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul></div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      

      </header><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>This is AWS WAF Classic documentation</h1>
    <small class="dont-index">Source: <a href="https://github.com/paws-r/paws/blob/HEAD/R/wafregional_operations.R" class="external-link"><code>R/wafregional_operations.R</code></a></small>
    <div class="hidden name"><code>wafregional_update_web_acl.Rd</code></div>
    </div>

    <div class="ref-description">
    <p>This is <strong>AWS WAF Classic</strong> documentation. For more information, see
<a href="https://docs.aws.amazon.com/waf/latest/developerguide/classic-waf-chapter.html" class="external-link">AWS WAF Classic</a>
in the developer guide.</p>
<p><strong>For the latest version of AWS WAF</strong>, use the AWS WAFV2 API and see the
<a href="https://docs.aws.amazon.com/waf/latest/developerguide/waf-chapter.html" class="external-link">AWS WAF Developer Guide</a>.
With the latest version, AWS WAF has a single set of endpoints for
regional and global use.</p>
<p>Inserts or deletes ActivatedRule objects in a <code>WebACL</code>. Each <code>Rule</code>
identifies web requests that you want to allow, block, or count. When
you update a <code>WebACL</code>, you specify the following values:</p><ul><li><p>A default action for the <code>WebACL</code>, either <code>ALLOW</code> or <code>BLOCK</code>. AWS
WAF performs the default action if a request doesn't match the
criteria in any of the <code>Rules</code> in a <code>WebACL</code>.</p></li>
<li><p>The <code>Rules</code> that you want to add or delete. If you want to replace
one <code>Rule</code> with another, you delete the existing <code>Rule</code> and add the
new one.</p></li>
<li><p>For each <code>Rule</code>, whether you want AWS WAF to allow requests, block
requests, or count requests that match the conditions in the <code>Rule</code>.</p></li>
<li><p>The order in which you want AWS WAF to evaluate the <code>Rules</code> in a
<code>WebACL</code>. If you add more than one <code>Rule</code> to a <code>WebACL</code>, AWS WAF
evaluates each request against the <code>Rules</code> in order based on the
value of <code>Priority</code>. (The <code>Rule</code> that has the lowest value for
<code>Priority</code> is evaluated first.) When a web request matches all the
predicates (such as <code>ByteMatchSets</code> and <code>IPSets</code>) in a <code>Rule</code>, AWS
WAF immediately takes the corresponding action, allow or block, and
doesn't evaluate the request against the remaining <code>Rules</code> in the
<code>WebACL</code>, if any.</p></li>
</ul><p>To create and configure a <code>WebACL</code>, perform the following steps:</p><ol><li><p>Create and update the predicates that you want to include in
<code>Rules</code>. For more information, see
<code><a href="wafregional_create_byte_match_set.html">create_byte_match_set</a></code>,
<code><a href="wafregional_update_byte_match_set.html">update_byte_match_set</a></code>,
<code><a href="wafregional_create_ip_set.html">create_ip_set</a></code>,
<code><a href="wafregional_update_ip_set.html">update_ip_set</a></code>,
<code><a href="wafregional_create_sql_injection_match_set.html">create_sql_injection_match_set</a></code>,
and
<code><a href="wafregional_update_sql_injection_match_set.html">update_sql_injection_match_set</a></code>.</p></li>
<li><p>Create and update the <code>Rules</code> that you want to include in the
<code>WebACL</code>. For more information, see
<code><a href="wafregional_create_rule.html">create_rule</a></code> and
<code><a href="wafregional_update_rule.html">update_rule</a></code>.</p></li>
<li><p>Create a <code>WebACL</code>. See
<code><a href="wafregional_create_web_acl.html">create_web_acl</a></code>.</p></li>
<li><p>Use <code><a href="wafregional_get_change_token.html">get_change_token</a></code> to get the
change token that you provide in the <code>ChangeToken</code> parameter of an
<code>update_web_acl</code> request.</p></li>
<li><p>Submit an <code>update_web_acl</code> request to
specify the <code>Rules</code> that you want to include in the <code>WebACL</code>, to
specify the default action, and to associate the <code>WebACL</code> with a
CloudFront distribution.</p>
<p>The <code>ActivatedRule</code> can be a rule group. If you specify a rule group
as your <code>ActivatedRule</code> , you can exclude specific rules from that
rule group.</p>
<p>If you already have a rule group associated with a web ACL and want
to submit an <code>update_web_acl</code> request
to exclude certain rules from that rule group, you must first remove
the rule group from the web ACL, the re-insert it again, specifying
the excluded rules. For details, see ActivatedRule$ExcludedRules .</p></li>
</ol><p>Be aware that if you try to add a RATE_BASED rule to a web ACL without
setting the rule type when first creating the rule, the
<code>update_web_acl</code> request will fail because
the request tries to add a REGULAR rule (the default rule type) with the
specified ID, which does not exist.</p>
<p>For more information about how to use the AWS WAF API to allow or block
HTTP requests, see the <a href="https://docs.aws.amazon.com/waf/latest/developerguide/" class="external-link">AWS WAF Developer Guide</a>.</p>
    </div>

    <div id="ref-usage">
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">wafregional_update_web_acl</span><span class="op">(</span><span class="va">WebACLId</span>, <span class="va">ChangeToken</span>, <span class="va">Updates</span>,</span>
<span>  <span class="va">DefaultAction</span><span class="op">)</span></span></code></pre></div>
    </div>

    <div id="arguments">
    <h2>Arguments</h2>
    <dl><dt>WebACLId</dt>
<dd><p>[required] The <code>WebACLId</code> of the WebACL that you want to update. <code>WebACLId</code> is
returned by <code><a href="wafregional_create_web_acl.html">create_web_acl</a></code> and by
<code><a href="wafregional_list_web_ac_ls.html">list_web_ac_ls</a></code>.</p></dd>


<dt>ChangeToken</dt>
<dd><p>[required] The value returned by the most recent call to
<code><a href="wafregional_get_change_token.html">get_change_token</a></code>.</p></dd>


<dt>Updates</dt>
<dd><p>An array of updates to make to the WebACL.</p>
<p>An array of <code>WebACLUpdate</code> objects that you want to insert into or
delete from a WebACL. For more information, see the applicable data
types:</p><ul><li><p>WebACLUpdate: Contains <code>Action</code> and <code>ActivatedRule</code></p></li>
<li><p>ActivatedRule: Contains <code>Action</code>, <code>OverrideAction</code>, <code>Priority</code>,
<code>RuleId</code>, and <code>Type</code>. <code>ActivatedRule|OverrideAction</code> applies only
when updating or adding a <code>RuleGroup</code> to a <code>WebACL</code>. In this case,
you do not use <code>ActivatedRule|Action</code>. For all other update
requests, <code>ActivatedRule|Action</code> is used instead of
<code>ActivatedRule|OverrideAction</code>.</p></li>
<li><p>WafAction: Contains <code>Type</code></p></li>
</ul></dd>


<dt>DefaultAction</dt>
<dd><p>A default action for the web ACL, either ALLOW or BLOCK. AWS WAF
performs the default action if a request doesn't match the criteria in
any of the rules in a web ACL.</p></dd>

</dl></div>
    <div id="value">
    <h2>Value</h2>
    

<p>A list with the following syntax:</p>


<p></p><div class="sourceCode"><pre><code><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a><span class="fu">list</span>(</span>
<span id="cb1-2"><a href="#cb1-2" aria-hidden="true" tabindex="-1"></a>  <span class="at">ChangeToken =</span> <span class="st">"string"</span></span>
<span id="cb1-3"><a href="#cb1-3" aria-hidden="true" tabindex="-1"></a>)</span></code></pre><p></p></div>


    </div>
    <div id="request-syntax">
    <h2>Request syntax</h2>
    


<p></p><div class="sourceCode"><pre><code><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a>svc<span class="sc">$</span><span class="fu">update_web_acl</span>(</span>
<span id="cb1-2"><a href="#cb1-2" aria-hidden="true" tabindex="-1"></a>  <span class="at">WebACLId =</span> <span class="st">"string"</span>,</span>
<span id="cb1-3"><a href="#cb1-3" aria-hidden="true" tabindex="-1"></a>  <span class="at">ChangeToken =</span> <span class="st">"string"</span>,</span>
<span id="cb1-4"><a href="#cb1-4" aria-hidden="true" tabindex="-1"></a>  <span class="at">Updates =</span> <span class="fu">list</span>(</span>
<span id="cb1-5"><a href="#cb1-5" aria-hidden="true" tabindex="-1"></a>    <span class="fu">list</span>(</span>
<span id="cb1-6"><a href="#cb1-6" aria-hidden="true" tabindex="-1"></a>      <span class="at">Action =</span> <span class="st">"INSERT"</span><span class="sc">|</span><span class="st">"DELETE"</span>,</span>
<span id="cb1-7"><a href="#cb1-7" aria-hidden="true" tabindex="-1"></a>      <span class="at">ActivatedRule =</span> <span class="fu">list</span>(</span>
<span id="cb1-8"><a href="#cb1-8" aria-hidden="true" tabindex="-1"></a>        <span class="at">Priority =</span> <span class="dv">123</span>,</span>
<span id="cb1-9"><a href="#cb1-9" aria-hidden="true" tabindex="-1"></a>        <span class="at">RuleId =</span> <span class="st">"string"</span>,</span>
<span id="cb1-10"><a href="#cb1-10" aria-hidden="true" tabindex="-1"></a>        <span class="at">Action =</span> <span class="fu">list</span>(</span>
<span id="cb1-11"><a href="#cb1-11" aria-hidden="true" tabindex="-1"></a>          <span class="at">Type =</span> <span class="st">"BLOCK"</span><span class="sc">|</span><span class="st">"ALLOW"</span><span class="sc">|</span><span class="st">"COUNT"</span></span>
<span id="cb1-12"><a href="#cb1-12" aria-hidden="true" tabindex="-1"></a>        ),</span>
<span id="cb1-13"><a href="#cb1-13" aria-hidden="true" tabindex="-1"></a>        <span class="at">OverrideAction =</span> <span class="fu">list</span>(</span>
<span id="cb1-14"><a href="#cb1-14" aria-hidden="true" tabindex="-1"></a>          <span class="at">Type =</span> <span class="st">"NONE"</span><span class="sc">|</span><span class="st">"COUNT"</span></span>
<span id="cb1-15"><a href="#cb1-15" aria-hidden="true" tabindex="-1"></a>        ),</span>
<span id="cb1-16"><a href="#cb1-16" aria-hidden="true" tabindex="-1"></a>        <span class="at">Type =</span> <span class="st">"REGULAR"</span><span class="sc">|</span><span class="st">"RATE_BASED"</span><span class="sc">|</span><span class="st">"GROUP"</span>,</span>
<span id="cb1-17"><a href="#cb1-17" aria-hidden="true" tabindex="-1"></a>        <span class="at">ExcludedRules =</span> <span class="fu">list</span>(</span>
<span id="cb1-18"><a href="#cb1-18" aria-hidden="true" tabindex="-1"></a>          <span class="fu">list</span>(</span>
<span id="cb1-19"><a href="#cb1-19" aria-hidden="true" tabindex="-1"></a>            <span class="at">RuleId =</span> <span class="st">"string"</span></span>
<span id="cb1-20"><a href="#cb1-20" aria-hidden="true" tabindex="-1"></a>          )</span>
<span id="cb1-21"><a href="#cb1-21" aria-hidden="true" tabindex="-1"></a>        )</span>
<span id="cb1-22"><a href="#cb1-22" aria-hidden="true" tabindex="-1"></a>      )</span>
<span id="cb1-23"><a href="#cb1-23" aria-hidden="true" tabindex="-1"></a>    )</span>
<span id="cb1-24"><a href="#cb1-24" aria-hidden="true" tabindex="-1"></a>  ),</span>
<span id="cb1-25"><a href="#cb1-25" aria-hidden="true" tabindex="-1"></a>  <span class="at">DefaultAction =</span> <span class="fu">list</span>(</span>
<span id="cb1-26"><a href="#cb1-26" aria-hidden="true" tabindex="-1"></a>    <span class="at">Type =</span> <span class="st">"BLOCK"</span><span class="sc">|</span><span class="st">"ALLOW"</span><span class="sc">|</span><span class="st">"COUNT"</span></span>
<span id="cb1-27"><a href="#cb1-27" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb1-28"><a href="#cb1-28" aria-hidden="true" tabindex="-1"></a>)</span></code></pre><p></p></div>
    </div>

    <div id="ref-examples">
    <h2>Examples</h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="kw">if</span> <span class="op">(</span><span class="cn">FALSE</span><span class="op">)</span> <span class="op">{</span></span>
<span><span class="co"># The following example deletes an ActivatedRule object in a WebACL with</span></span>
<span><span class="co"># the ID webacl-1472061481310.</span></span>
<span><span class="va">svc</span><span class="op">$</span><span class="fu">update_web_acl</span><span class="op">(</span></span>
<span>  ChangeToken <span class="op">=</span> <span class="st">"abcd12f2-46da-4fdb-b8d5-fbd4c466928f"</span>,</span>
<span>  DefaultAction <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span></span>
<span>    Type <span class="op">=</span> <span class="st">"ALLOW"</span></span>
<span>  <span class="op">)</span>,</span>
<span>  Updates <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span></span>
<span>    <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span></span>
<span>      Action <span class="op">=</span> <span class="st">"DELETE"</span>,</span>
<span>      ActivatedRule <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span></span>
<span>        Action <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span></span>
<span>          Type <span class="op">=</span> <span class="st">"ALLOW"</span></span>
<span>        <span class="op">)</span>,</span>
<span>        Priority <span class="op">=</span> <span class="fl">1L</span>,</span>
<span>        RuleId <span class="op">=</span> <span class="st">"WAFRule-1-Example"</span></span>
<span>      <span class="op">)</span></span>
<span>    <span class="op">)</span></span>
<span>  <span class="op">)</span>,</span>
<span>  WebACLId <span class="op">=</span> <span class="st">"webacl-1472061481310"</span></span>
<span><span class="op">)</span></span>
<span><span class="op">}</span></span>
<span></span></code></pre></div>
    </div>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <nav id="toc" data-toggle="toc" class="sticky-top"><h2 data-toc-skip>Contents</h2>
    </nav></div>
</div>


      <footer><div class="copyright">
  <p></p><p>Developed by David Kretch, Adam Banker, Dyfan Jones.</p>
</div>

<div class="pkgdown">
  <p></p><p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.7.</p>
</div>

      </footer></div>

  


  

  </body></html>

