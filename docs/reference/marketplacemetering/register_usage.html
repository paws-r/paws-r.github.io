<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0"><title>Paid container software products sold through AWS Marketplace must
integrate with the AWS Marketplace Metering Service and call the
RegisterUsage operation for software entitlement and metering — marketplacemetering_register_usage • paws</title><!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script><!-- Bootstrap --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous"><script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="../../bootstrap-toc.css"><script src="../../bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous"><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../../pkgdown.css" rel="stylesheet"><script src="../../pkgdown.js"></script><meta property="og:title" content="Paid container software products sold through AWS Marketplace must
integrate with the AWS Marketplace Metering Service and call the
RegisterUsage operation for software entitlement and metering — marketplacemetering_register_usage"><meta property="og:description" content="Paid container software products sold through AWS Marketplace must
integrate with the AWS Marketplace Metering Service and call the
register_usage operation for
software entitlement and metering. Free and BYOL products for Amazon ECS
or Amazon EKS aren't required to call
register_usage, but you may
choose to do so if you would like to receive usage data in your seller
reports. The sections below explain the behavior of
register_usage.
register_usage performs two
primary functions: metering and entitlement.
Entitlement:
register_usage allows you to
verify that the customer running your paid software is subscribed to
your product on AWS Marketplace, enabling you to guard against
unauthorized use. Your container image that integrates with
register_usage is only
required to guard against unauthorized use at container startup, as
such a CustomerNotSubscribedException or
PlatformNotSupportedException will only be thrown on the initial
call to register_usage.
Subsequent calls from the same Amazon ECS task instance (e.g.
task-id) or Amazon EKS pod will not throw a
CustomerNotSubscribedException, even if the customer unsubscribes
while the Amazon ECS task or Amazon EKS pod is still running.
Metering: register_usage
meters software use per ECS task, per hour, or per pod for Amazon
EKS with usage prorated to the second. A minimum of 1 minute of
usage applies to tasks that are short lived. For example, if a
customer has a 10 node Amazon ECS or Amazon EKS cluster and a
service configured as a Daemon Set, then Amazon ECS or Amazon EKS
will launch a task on all 10 cluster nodes and the customer will be
charged: (10 * hourly_rate). Metering for software use is
automatically handled by the AWS Marketplace Metering Control Plane
-- your software is not required to perform any metering specific
actions, other than call
register_usage once for
metering of software use to commence. The AWS Marketplace Metering
Control Plane will also continue to bill customers for running ECS
tasks and Amazon EKS pods, regardless of the customers subscription
state, removing the need for your software to perform entitlement
checks at runtime.

"><!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]--></head><body data-spy="scroll" data-target="#toc">
    

    <div class="container template-reference-topic">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../../index.html">paws</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="">0.2.0</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav"><li>
  <a href="../../reference/index.html">Reference</a>
</li>
<li>
  <a href="../../news/index.html">Changelog</a>
</li>
      </ul><ul class="nav navbar-nav navbar-right"><li>
  <a href="https://github.com/paws-r/paws/" class="external-link">
    <span class="fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul></div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      

      </header><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Paid container software products sold through AWS Marketplace must
integrate with the AWS Marketplace Metering Service and call the
RegisterUsage operation for software entitlement and metering</h1>
    <small class="dont-index">Source: <a href="https://github.com/paws-r/paws/blob/HEAD/R/marketplacemetering_operations.R" class="external-link"><code>R/marketplacemetering_operations.R</code></a></small>
    <div class="hidden name"><code>marketplacemetering_register_usage.Rd</code></div>
    </div>

    <div class="ref-description">
    <p>Paid container software products sold through AWS Marketplace must
integrate with the AWS Marketplace Metering Service and call the
<code>register_usage</code> operation for
software entitlement and metering. Free and BYOL products for Amazon ECS
or Amazon EKS aren't required to call
<code>register_usage</code>, but you may
choose to do so if you would like to receive usage data in your seller
reports. The sections below explain the behavior of
<code>register_usage</code>.
<code>register_usage</code> performs two
primary functions: metering and entitlement.</p><ul><li><p><em>Entitlement</em>:
<code>register_usage</code> allows you to
verify that the customer running your paid software is subscribed to
your product on AWS Marketplace, enabling you to guard against
unauthorized use. Your container image that integrates with
<code>register_usage</code> is only
required to guard against unauthorized use at container startup, as
such a <code>CustomerNotSubscribedException</code> or
<code>PlatformNotSupportedException</code> will only be thrown on the initial
call to <code>register_usage</code>.
Subsequent calls from the same Amazon ECS task instance (e.g.
task-id) or Amazon EKS pod will not throw a
<code>CustomerNotSubscribedException</code>, even if the customer unsubscribes
while the Amazon ECS task or Amazon EKS pod is still running.</p></li>
<li><p><em>Metering</em>: <code>register_usage</code>
meters software use per ECS task, per hour, or per pod for Amazon
EKS with usage prorated to the second. A minimum of 1 minute of
usage applies to tasks that are short lived. For example, if a
customer has a 10 node Amazon ECS or Amazon EKS cluster and a
service configured as a Daemon Set, then Amazon ECS or Amazon EKS
will launch a task on all 10 cluster nodes and the customer will be
charged: (10 * hourly_rate). Metering for software use is
automatically handled by the AWS Marketplace Metering Control Plane
-- your software is not required to perform any metering specific
actions, other than call
<code>register_usage</code> once for
metering of software use to commence. The AWS Marketplace Metering
Control Plane will also continue to bill customers for running ECS
tasks and Amazon EKS pods, regardless of the customers subscription
state, removing the need for your software to perform entitlement
checks at runtime.</p></li>
</ul></div>

    <div id="ref-usage">
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">marketplacemetering_register_usage</span><span class="op">(</span><span class="va">ProductCode</span>, <span class="va">PublicKeyVersion</span>, <span class="va">Nonce</span><span class="op">)</span></span></code></pre></div>
    </div>

    <div id="arguments">
    <h2>Arguments</h2>
    <dl><dt>ProductCode</dt>
<dd><p>[required] Product code is used to uniquely identify a product in AWS Marketplace.
The product code should be the same as the one used during the
publishing of a new product.</p></dd>


<dt>PublicKeyVersion</dt>
<dd><p>[required] Public Key Version provided by AWS Marketplace</p></dd>


<dt>Nonce</dt>
<dd><p>(Optional) To scope down the registration to a specific running software
instance and guard against replay attacks.</p></dd>

</dl></div>
    <div id="value">
    <h2>Value</h2>
    

<p>A list with the following syntax:</p>


<p></p><div class="sourceCode"><pre><code><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a><span class="fu">list</span>(</span>
<span id="cb1-2"><a href="#cb1-2" aria-hidden="true" tabindex="-1"></a>  <span class="at">PublicKeyRotationTimestamp =</span> <span class="fu">as.POSIXct</span>(</span>
<span id="cb1-3"><a href="#cb1-3" aria-hidden="true" tabindex="-1"></a>    <span class="st">"2015-01-01"</span></span>
<span id="cb1-4"><a href="#cb1-4" aria-hidden="true" tabindex="-1"></a>  ),</span>
<span id="cb1-5"><a href="#cb1-5" aria-hidden="true" tabindex="-1"></a>  <span class="at">Signature =</span> <span class="st">"string"</span></span>
<span id="cb1-6"><a href="#cb1-6" aria-hidden="true" tabindex="-1"></a>)</span></code></pre><p></p></div>


    </div>
    <div id="request-syntax">
    <h2>Request syntax</h2>
    


<p></p><div class="sourceCode"><pre><code><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a>svc<span class="sc">$</span><span class="fu">register_usage</span>(</span>
<span id="cb1-2"><a href="#cb1-2" aria-hidden="true" tabindex="-1"></a>  <span class="at">ProductCode =</span> <span class="st">"string"</span>,</span>
<span id="cb1-3"><a href="#cb1-3" aria-hidden="true" tabindex="-1"></a>  <span class="at">PublicKeyVersion =</span> <span class="dv">123</span>,</span>
<span id="cb1-4"><a href="#cb1-4" aria-hidden="true" tabindex="-1"></a>  <span class="at">Nonce =</span> <span class="st">"string"</span></span>
<span id="cb1-5"><a href="#cb1-5" aria-hidden="true" tabindex="-1"></a>)</span></code></pre><p></p></div>
    </div>

  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <nav id="toc" data-toggle="toc" class="sticky-top"><h2 data-toc-skip>Contents</h2>
    </nav></div>
</div>


      <footer><div class="copyright">
  <p></p><p>Developed by David Kretch, Adam Banker, Dyfan Jones.</p>
</div>

<div class="pkgdown">
  <p></p><p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.7.</p>
</div>

      </footer></div>

  


  

  </body></html>

