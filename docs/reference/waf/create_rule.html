<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0"><title>This is AWS WAF Classic documentation — waf_create_rule • paws</title><!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script><!-- Bootstrap --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous"><script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="../../bootstrap-toc.css"><script src="../../bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous"><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../../pkgdown.css" rel="stylesheet"><script src="../../pkgdown.js"></script><meta property="og:title" content="This is AWS WAF Classic documentation — waf_create_rule"><meta property="og:description" content="This is AWS WAF Classic documentation. For more information, see
AWS WAF Classic
in the developer guide.
For the latest version of AWS WAF, use the AWS WAFV2 API and see the
AWS WAF Developer Guide.
With the latest version, AWS WAF has a single set of endpoints for
regional and global use.
Creates a Rule, which contains the IPSet objects, ByteMatchSet
objects, and other predicates that identify the requests that you want
to block. If you add more than one predicate to a Rule, a request must
match all of the specifications to be allowed or blocked. For example,
suppose that you add the following to a Rule:
An IPSet that matches the IP address 192.0.2.44/32
A ByteMatchSet that matches BadBot in the User-Agent header


You then add the Rule to a WebACL and specify that you want to
blocks requests that satisfy the Rule. For a request to be blocked, it
must come from the IP address 192.0.2.44 and the User-Agent header
in the request must contain the value BadBot.
To create and configure a Rule, perform the following steps:
Create and update the predicates that you want to include in the
Rule. For more information, see
create_byte_match_set,
create_ip_set, and
create_sql_injection_match_set.
Use get_change_token to get the change
token that you provide in the ChangeToken parameter of a
create_rule request.
Submit a create_rule request.
Use get_change_token to get the change
token that you provide in the ChangeToken parameter of an
update_rule request.
Submit an update_rule request to specify the
predicates that you want to include in the Rule.
Create and update a WebACL that contains the Rule. For more
information, see create_web_acl.


For more information about how to use the AWS WAF API to allow or block
HTTP requests, see the AWS WAF Developer Guide."><!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]--></head><body data-spy="scroll" data-target="#toc">
    

    <div class="container template-reference-topic">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../../index.html">paws</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="">0.2.0</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav"><li>
  <a href="../../reference/index.html">Reference</a>
</li>
<li>
  <a href="../../news/index.html">Changelog</a>
</li>
      </ul><ul class="nav navbar-nav navbar-right"><li>
  <a href="https://github.com/paws-r/paws/" class="external-link">
    <span class="fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul></div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      

      </header><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>This is AWS WAF Classic documentation</h1>
    <small class="dont-index">Source: <a href="https://github.com/paws-r/paws/blob/HEAD/R/waf_operations.R" class="external-link"><code>R/waf_operations.R</code></a></small>
    <div class="hidden name"><code>waf_create_rule.Rd</code></div>
    </div>

    <div class="ref-description">
    <p>This is <strong>AWS WAF Classic</strong> documentation. For more information, see
<a href="https://docs.aws.amazon.com/waf/latest/developerguide/classic-waf-chapter.html" class="external-link">AWS WAF Classic</a>
in the developer guide.</p>
<p><strong>For the latest version of AWS WAF</strong>, use the AWS WAFV2 API and see the
<a href="https://docs.aws.amazon.com/waf/latest/developerguide/waf-chapter.html" class="external-link">AWS WAF Developer Guide</a>.
With the latest version, AWS WAF has a single set of endpoints for
regional and global use.</p>
<p>Creates a <code>Rule</code>, which contains the <code>IPSet</code> objects, <code>ByteMatchSet</code>
objects, and other predicates that identify the requests that you want
to block. If you add more than one predicate to a <code>Rule</code>, a request must
match all of the specifications to be allowed or blocked. For example,
suppose that you add the following to a <code>Rule</code>:</p><ul><li><p>An <code>IPSet</code> that matches the IP address <code>192.0.2.44/32</code></p></li>
<li><p>A <code>ByteMatchSet</code> that matches <code>BadBot</code> in the <code>User-Agent</code> header</p></li>
</ul><p>You then add the <code>Rule</code> to a <code>WebACL</code> and specify that you want to
blocks requests that satisfy the <code>Rule</code>. For a request to be blocked, it
must come from the IP address 192.0.2.44 <em>and</em> the <code>User-Agent</code> header
in the request must contain the value <code>BadBot</code>.</p>
<p>To create and configure a <code>Rule</code>, perform the following steps:</p><ol><li><p>Create and update the predicates that you want to include in the
<code>Rule</code>. For more information, see
<code><a href="waf_create_byte_match_set.html">create_byte_match_set</a></code>,
<code><a href="waf_create_ip_set.html">create_ip_set</a></code>, and
<code><a href="waf_create_sql_injection_match_set.html">create_sql_injection_match_set</a></code>.</p></li>
<li><p>Use <code><a href="waf_get_change_token.html">get_change_token</a></code> to get the change
token that you provide in the <code>ChangeToken</code> parameter of a
<code>create_rule</code> request.</p></li>
<li><p>Submit a <code>create_rule</code> request.</p></li>
<li><p>Use <code><a href="waf_get_change_token.html">get_change_token</a></code> to get the change
token that you provide in the <code>ChangeToken</code> parameter of an
<code><a href="waf_update_rule.html">update_rule</a></code> request.</p></li>
<li><p>Submit an <code><a href="waf_update_rule.html">update_rule</a></code> request to specify the
predicates that you want to include in the <code>Rule</code>.</p></li>
<li><p>Create and update a <code>WebACL</code> that contains the <code>Rule</code>. For more
information, see <code><a href="waf_create_web_acl.html">create_web_acl</a></code>.</p></li>
</ol><p>For more information about how to use the AWS WAF API to allow or block
HTTP requests, see the <a href="https://docs.aws.amazon.com/waf/latest/developerguide/" class="external-link">AWS WAF Developer Guide</a>.</p>
    </div>

    <div id="ref-usage">
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">waf_create_rule</span><span class="op">(</span><span class="va">Name</span>, <span class="va">MetricName</span>, <span class="va">ChangeToken</span>, <span class="va">Tags</span><span class="op">)</span></span></code></pre></div>
    </div>

    <div id="arguments">
    <h2>Arguments</h2>
    <dl><dt>Name</dt>
<dd><p>[required] A friendly name or description of the Rule. You can't change the name of
a <code>Rule</code> after you create it.</p></dd>


<dt>MetricName</dt>
<dd><p>[required] A friendly name or description for the metrics for this <code>Rule</code>. The name
can contain only alphanumeric characters (A-Z, a-z, 0-9), with maximum
length 128 and minimum length one. It can't contain whitespace or metric
names reserved for AWS WAF, including "All" and "Default_Action." You
can't change the name of the metric after you create the <code>Rule</code>.</p></dd>


<dt>ChangeToken</dt>
<dd><p>[required] The value returned by the most recent call to
<code><a href="waf_get_change_token.html">get_change_token</a></code>.</p></dd>


<dt>Tags</dt>
<dd></dd>

</dl></div>
    <div id="value">
    <h2>Value</h2>
    

<p>A list with the following syntax:</p>


<p></p><div class="sourceCode"><pre><code><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a><span class="fu">list</span>(</span>
<span id="cb1-2"><a href="#cb1-2" aria-hidden="true" tabindex="-1"></a>  <span class="at">Rule =</span> <span class="fu">list</span>(</span>
<span id="cb1-3"><a href="#cb1-3" aria-hidden="true" tabindex="-1"></a>    <span class="at">RuleId =</span> <span class="st">"string"</span>,</span>
<span id="cb1-4"><a href="#cb1-4" aria-hidden="true" tabindex="-1"></a>    <span class="at">Name =</span> <span class="st">"string"</span>,</span>
<span id="cb1-5"><a href="#cb1-5" aria-hidden="true" tabindex="-1"></a>    <span class="at">MetricName =</span> <span class="st">"string"</span>,</span>
<span id="cb1-6"><a href="#cb1-6" aria-hidden="true" tabindex="-1"></a>    <span class="at">Predicates =</span> <span class="fu">list</span>(</span>
<span id="cb1-7"><a href="#cb1-7" aria-hidden="true" tabindex="-1"></a>      <span class="fu">list</span>(</span>
<span id="cb1-8"><a href="#cb1-8" aria-hidden="true" tabindex="-1"></a>        <span class="at">Negated =</span> <span class="cn">TRUE</span><span class="sc">|</span><span class="cn">FALSE</span>,</span>
<span id="cb1-9"><a href="#cb1-9" aria-hidden="true" tabindex="-1"></a>        <span class="at">Type =</span> <span class="st">"IPMatch"</span><span class="sc">|</span><span class="st">"ByteMatch"</span><span class="sc">|</span><span class="st">"SqlInjectionMatch"</span><span class="sc">|</span><span class="st">"GeoMatch"</span><span class="sc">|</span><span class="st">"SizeConstraint"</span><span class="sc">|</span><span class="st">"XssMatch"</span><span class="sc">|</span><span class="st">"RegexMatch"</span>,</span>
<span id="cb1-10"><a href="#cb1-10" aria-hidden="true" tabindex="-1"></a>        <span class="at">DataId =</span> <span class="st">"string"</span></span>
<span id="cb1-11"><a href="#cb1-11" aria-hidden="true" tabindex="-1"></a>      )</span>
<span id="cb1-12"><a href="#cb1-12" aria-hidden="true" tabindex="-1"></a>    )</span>
<span id="cb1-13"><a href="#cb1-13" aria-hidden="true" tabindex="-1"></a>  ),</span>
<span id="cb1-14"><a href="#cb1-14" aria-hidden="true" tabindex="-1"></a>  <span class="at">ChangeToken =</span> <span class="st">"string"</span></span>
<span id="cb1-15"><a href="#cb1-15" aria-hidden="true" tabindex="-1"></a>)</span></code></pre><p></p></div>


    </div>
    <div id="request-syntax">
    <h2>Request syntax</h2>
    


<p></p><div class="sourceCode"><pre><code><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a>svc<span class="sc">$</span><span class="fu">create_rule</span>(</span>
<span id="cb1-2"><a href="#cb1-2" aria-hidden="true" tabindex="-1"></a>  <span class="at">Name =</span> <span class="st">"string"</span>,</span>
<span id="cb1-3"><a href="#cb1-3" aria-hidden="true" tabindex="-1"></a>  <span class="at">MetricName =</span> <span class="st">"string"</span>,</span>
<span id="cb1-4"><a href="#cb1-4" aria-hidden="true" tabindex="-1"></a>  <span class="at">ChangeToken =</span> <span class="st">"string"</span>,</span>
<span id="cb1-5"><a href="#cb1-5" aria-hidden="true" tabindex="-1"></a>  <span class="at">Tags =</span> <span class="fu">list</span>(</span>
<span id="cb1-6"><a href="#cb1-6" aria-hidden="true" tabindex="-1"></a>    <span class="fu">list</span>(</span>
<span id="cb1-7"><a href="#cb1-7" aria-hidden="true" tabindex="-1"></a>      <span class="at">Key =</span> <span class="st">"string"</span>,</span>
<span id="cb1-8"><a href="#cb1-8" aria-hidden="true" tabindex="-1"></a>      <span class="at">Value =</span> <span class="st">"string"</span></span>
<span id="cb1-9"><a href="#cb1-9" aria-hidden="true" tabindex="-1"></a>    )</span>
<span id="cb1-10"><a href="#cb1-10" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb1-11"><a href="#cb1-11" aria-hidden="true" tabindex="-1"></a>)</span></code></pre><p></p></div>
    </div>

    <div id="ref-examples">
    <h2>Examples</h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="kw">if</span> <span class="op">(</span><span class="cn">FALSE</span><span class="op">)</span> <span class="op">{</span></span>
<span><span class="co"># The following example creates a rule named WAFByteHeaderRule.</span></span>
<span><span class="va">svc</span><span class="op">$</span><span class="fu">create_rule</span><span class="op">(</span></span>
<span>  ChangeToken <span class="op">=</span> <span class="st">"abcd12f2-46da-4fdb-b8d5-fbd4c466928f"</span>,</span>
<span>  MetricName <span class="op">=</span> <span class="st">"WAFByteHeaderRule"</span>,</span>
<span>  Name <span class="op">=</span> <span class="st">"WAFByteHeaderRule"</span></span>
<span><span class="op">)</span></span>
<span><span class="op">}</span></span>
<span></span></code></pre></div>
    </div>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <nav id="toc" data-toggle="toc" class="sticky-top"><h2 data-toc-skip>Contents</h2>
    </nav></div>
</div>


      <footer><div class="copyright">
  <p></p><p>Developed by David Kretch, Adam Banker, Dyfan Jones.</p>
</div>

<div class="pkgdown">
  <p></p><p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.7.</p>
</div>

      </footer></div>

  


  

  </body></html>

