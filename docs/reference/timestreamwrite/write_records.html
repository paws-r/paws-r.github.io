<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0"><title>The WriteRecords operation enables you to write your time series data
into Timestream — timestreamwrite_write_records • paws</title><!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script><!-- Bootstrap --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous"><script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="../../bootstrap-toc.css"><script src="../../bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous"><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../../pkgdown.css" rel="stylesheet"><script src="../../pkgdown.js"></script><meta property="og:title" content="The WriteRecords operation enables you to write your time series data
into Timestream — timestreamwrite_write_records"><meta property="og:description" content="The WriteRecords operation enables you to write your time series data
into Timestream. You can specify a single data point or a batch of data
points to be inserted into the system. Timestream offers you with a
flexible schema that auto detects the column names and data types for
your Timestream tables based on the dimension names and data types of
the data points you specify when invoking writes into the database.
Timestream support eventual consistency read semantics. This means that
when you query data immediately after writing a batch of data into
Timestream, the query results might not reflect the results of a
recently completed write operation. The results may also include some
stale data. If you repeat the query request after a short time, the
results should return the latest data. Service quotas apply.
See code sample
for details.
Upserts
You can use the Version parameter in a
write_records request to update data
points. Timestream tracks a version number with each record. Version
defaults to 1 when not specified for the record in the request.
Timestream will update an existing record’s measure value along with its
Version upon receiving a write request with a higher Version number
for that record. Upon receiving an update request where the measure
value is the same as that of the existing record, Timestream still
updates Version, if it is greater than the existing value of
Version. You can update a data point as many times as desired, as long
as the value of Version continuously increases.
For example, suppose you write a new record without indicating Version
in the request. Timestream will store this record, and set Version to
1. Now, suppose you try to update this record with a
write_records request of the same
record with a different measure value but, like before, do not provide
Version. In this case, Timestream will reject this update with a
RejectedRecordsException since the updated record’s version is not
greater than the existing value of Version. However, if you were to
resend the update request with Version set to 2, Timestream would
then succeed in updating the record’s value, and the Version would be
set to 2. Next, suppose you sent a
write_records request with this same
record and an identical measure value, but with Version set to 3. In
this case, Timestream would only update Version to 3. Any further
updates would need to send a version number greater than 3, or the
update requests would receive a RejectedRecordsException."><!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]--></head><body data-spy="scroll" data-target="#toc">
    

    <div class="container template-reference-topic">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../../index.html">paws</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="">0.2.0</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav"><li>
  <a href="../../reference/index.html">Reference</a>
</li>
<li>
  <a href="../../news/index.html">Changelog</a>
</li>
      </ul><ul class="nav navbar-nav navbar-right"><li>
  <a href="https://github.com/paws-r/paws/" class="external-link">
    <span class="fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul></div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      

      </header><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>The WriteRecords operation enables you to write your time series data
into Timestream</h1>
    <small class="dont-index">Source: <a href="https://github.com/paws-r/paws/blob/HEAD/R/timestreamwrite_operations.R" class="external-link"><code>R/timestreamwrite_operations.R</code></a></small>
    <div class="hidden name"><code>timestreamwrite_write_records.Rd</code></div>
    </div>

    <div class="ref-description">
    <p>The WriteRecords operation enables you to write your time series data
into Timestream. You can specify a single data point or a batch of data
points to be inserted into the system. Timestream offers you with a
flexible schema that auto detects the column names and data types for
your Timestream tables based on the dimension names and data types of
the data points you specify when invoking writes into the database.
Timestream support eventual consistency read semantics. This means that
when you query data immediately after writing a batch of data into
Timestream, the query results might not reflect the results of a
recently completed write operation. The results may also include some
stale data. If you repeat the query request after a short time, the
results should return the latest data. <a href="https://docs.aws.amazon.com/timestream/latest/developerguide/ts-limits.html" class="external-link">Service quotas apply</a>.</p>
<p>See <a href="https://docs.aws.amazon.com/timestream/latest/developerguide/code-samples.write.html" class="external-link">code sample</a>
for details.</p>
<p><strong>Upserts</strong></p>
<p>You can use the <code>Version</code> parameter in a
<code>write_records</code> request to update data
points. Timestream tracks a version number with each record. <code>Version</code>
defaults to <code>1</code> when not specified for the record in the request.
Timestream will update an existing record’s measure value along with its
<code>Version</code> upon receiving a write request with a higher <code>Version</code> number
for that record. Upon receiving an update request where the measure
value is the same as that of the existing record, Timestream still
updates <code>Version</code>, if it is greater than the existing value of
<code>Version</code>. You can update a data point as many times as desired, as long
as the value of <code>Version</code> continuously increases.</p>
<p>For example, suppose you write a new record without indicating <code>Version</code>
in the request. Timestream will store this record, and set <code>Version</code> to
<code>1</code>. Now, suppose you try to update this record with a
<code>write_records</code> request of the same
record with a different measure value but, like before, do not provide
<code>Version</code>. In this case, Timestream will reject this update with a
<code>RejectedRecordsException</code> since the updated record’s version is not
greater than the existing value of Version. However, if you were to
resend the update request with <code>Version</code> set to <code>2</code>, Timestream would
then succeed in updating the record’s value, and the <code>Version</code> would be
set to <code>2</code>. Next, suppose you sent a
<code>write_records</code> request with this same
record and an identical measure value, but with <code>Version</code> set to <code>3</code>. In
this case, Timestream would only update <code>Version</code> to <code>3</code>. Any further
updates would need to send a version number greater than <code>3</code>, or the
update requests would receive a <code>RejectedRecordsException</code>.</p>
    </div>

    <div id="ref-usage">
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">timestreamwrite_write_records</span><span class="op">(</span><span class="va">DatabaseName</span>, <span class="va">TableName</span>, <span class="va">CommonAttributes</span>,</span>
<span>  <span class="va">Records</span><span class="op">)</span></span></code></pre></div>
    </div>

    <div id="arguments">
    <h2>Arguments</h2>
    <dl><dt>DatabaseName</dt>
<dd><p>[required] The name of the Timestream database.</p></dd>


<dt>TableName</dt>
<dd><p>[required] The name of the Timestream table.</p></dd>


<dt>CommonAttributes</dt>
<dd><p>A record containing the common measure, dimension, time, and version
attributes shared across all the records in the request. The measure and
dimension attributes specified will be merged with the measure and
dimension attributes in the records object when the data is written into
Timestream. Dimensions may not overlap, or a <code>ValidationException</code> will
be thrown. In other words, a record must contain dimensions with unique
names.</p></dd>


<dt>Records</dt>
<dd><p>[required] An array of records containing the unique measure, dimension, time, and
version attributes for each time series data point.</p></dd>

</dl></div>
    <div id="value">
    <h2>Value</h2>
    

<p>A list with the following syntax:</p>


<p></p><div class="sourceCode"><pre><code><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a><span class="fu">list</span>(</span>
<span id="cb1-2"><a href="#cb1-2" aria-hidden="true" tabindex="-1"></a>  <span class="at">RecordsIngested =</span> <span class="fu">list</span>(</span>
<span id="cb1-3"><a href="#cb1-3" aria-hidden="true" tabindex="-1"></a>    <span class="at">Total =</span> <span class="dv">123</span>,</span>
<span id="cb1-4"><a href="#cb1-4" aria-hidden="true" tabindex="-1"></a>    <span class="at">MemoryStore =</span> <span class="dv">123</span>,</span>
<span id="cb1-5"><a href="#cb1-5" aria-hidden="true" tabindex="-1"></a>    <span class="at">MagneticStore =</span> <span class="dv">123</span></span>
<span id="cb1-6"><a href="#cb1-6" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb1-7"><a href="#cb1-7" aria-hidden="true" tabindex="-1"></a>)</span></code></pre><p></p></div>


    </div>
    <div id="request-syntax">
    <h2>Request syntax</h2>
    


<p></p><div class="sourceCode"><pre><code><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a>svc<span class="sc">$</span><span class="fu">write_records</span>(</span>
<span id="cb1-2"><a href="#cb1-2" aria-hidden="true" tabindex="-1"></a>  <span class="at">DatabaseName =</span> <span class="st">"string"</span>,</span>
<span id="cb1-3"><a href="#cb1-3" aria-hidden="true" tabindex="-1"></a>  <span class="at">TableName =</span> <span class="st">"string"</span>,</span>
<span id="cb1-4"><a href="#cb1-4" aria-hidden="true" tabindex="-1"></a>  <span class="at">CommonAttributes =</span> <span class="fu">list</span>(</span>
<span id="cb1-5"><a href="#cb1-5" aria-hidden="true" tabindex="-1"></a>    <span class="at">Dimensions =</span> <span class="fu">list</span>(</span>
<span id="cb1-6"><a href="#cb1-6" aria-hidden="true" tabindex="-1"></a>      <span class="fu">list</span>(</span>
<span id="cb1-7"><a href="#cb1-7" aria-hidden="true" tabindex="-1"></a>        <span class="at">Name =</span> <span class="st">"string"</span>,</span>
<span id="cb1-8"><a href="#cb1-8" aria-hidden="true" tabindex="-1"></a>        <span class="at">Value =</span> <span class="st">"string"</span>,</span>
<span id="cb1-9"><a href="#cb1-9" aria-hidden="true" tabindex="-1"></a>        <span class="at">DimensionValueType =</span> <span class="st">"VARCHAR"</span></span>
<span id="cb1-10"><a href="#cb1-10" aria-hidden="true" tabindex="-1"></a>      )</span>
<span id="cb1-11"><a href="#cb1-11" aria-hidden="true" tabindex="-1"></a>    ),</span>
<span id="cb1-12"><a href="#cb1-12" aria-hidden="true" tabindex="-1"></a>    <span class="at">MeasureName =</span> <span class="st">"string"</span>,</span>
<span id="cb1-13"><a href="#cb1-13" aria-hidden="true" tabindex="-1"></a>    <span class="at">MeasureValue =</span> <span class="st">"string"</span>,</span>
<span id="cb1-14"><a href="#cb1-14" aria-hidden="true" tabindex="-1"></a>    <span class="at">MeasureValueType =</span> <span class="st">"DOUBLE"</span><span class="sc">|</span><span class="st">"BIGINT"</span><span class="sc">|</span><span class="st">"VARCHAR"</span><span class="sc">|</span><span class="st">"BOOLEAN"</span><span class="sc">|</span><span class="st">"TIMESTAMP"</span><span class="sc">|</span><span class="st">"MULTI"</span>,</span>
<span id="cb1-15"><a href="#cb1-15" aria-hidden="true" tabindex="-1"></a>    <span class="at">Time =</span> <span class="st">"string"</span>,</span>
<span id="cb1-16"><a href="#cb1-16" aria-hidden="true" tabindex="-1"></a>    <span class="at">TimeUnit =</span> <span class="st">"MILLISECONDS"</span><span class="sc">|</span><span class="st">"SECONDS"</span><span class="sc">|</span><span class="st">"MICROSECONDS"</span><span class="sc">|</span><span class="st">"NANOSECONDS"</span>,</span>
<span id="cb1-17"><a href="#cb1-17" aria-hidden="true" tabindex="-1"></a>    <span class="at">Version =</span> <span class="dv">123</span>,</span>
<span id="cb1-18"><a href="#cb1-18" aria-hidden="true" tabindex="-1"></a>    <span class="at">MeasureValues =</span> <span class="fu">list</span>(</span>
<span id="cb1-19"><a href="#cb1-19" aria-hidden="true" tabindex="-1"></a>      <span class="fu">list</span>(</span>
<span id="cb1-20"><a href="#cb1-20" aria-hidden="true" tabindex="-1"></a>        <span class="at">Name =</span> <span class="st">"string"</span>,</span>
<span id="cb1-21"><a href="#cb1-21" aria-hidden="true" tabindex="-1"></a>        <span class="at">Value =</span> <span class="st">"string"</span>,</span>
<span id="cb1-22"><a href="#cb1-22" aria-hidden="true" tabindex="-1"></a>        <span class="at">Type =</span> <span class="st">"DOUBLE"</span><span class="sc">|</span><span class="st">"BIGINT"</span><span class="sc">|</span><span class="st">"VARCHAR"</span><span class="sc">|</span><span class="st">"BOOLEAN"</span><span class="sc">|</span><span class="st">"TIMESTAMP"</span><span class="sc">|</span><span class="st">"MULTI"</span></span>
<span id="cb1-23"><a href="#cb1-23" aria-hidden="true" tabindex="-1"></a>      )</span>
<span id="cb1-24"><a href="#cb1-24" aria-hidden="true" tabindex="-1"></a>    )</span>
<span id="cb1-25"><a href="#cb1-25" aria-hidden="true" tabindex="-1"></a>  ),</span>
<span id="cb1-26"><a href="#cb1-26" aria-hidden="true" tabindex="-1"></a>  <span class="at">Records =</span> <span class="fu">list</span>(</span>
<span id="cb1-27"><a href="#cb1-27" aria-hidden="true" tabindex="-1"></a>    <span class="fu">list</span>(</span>
<span id="cb1-28"><a href="#cb1-28" aria-hidden="true" tabindex="-1"></a>      <span class="at">Dimensions =</span> <span class="fu">list</span>(</span>
<span id="cb1-29"><a href="#cb1-29" aria-hidden="true" tabindex="-1"></a>        <span class="fu">list</span>(</span>
<span id="cb1-30"><a href="#cb1-30" aria-hidden="true" tabindex="-1"></a>          <span class="at">Name =</span> <span class="st">"string"</span>,</span>
<span id="cb1-31"><a href="#cb1-31" aria-hidden="true" tabindex="-1"></a>          <span class="at">Value =</span> <span class="st">"string"</span>,</span>
<span id="cb1-32"><a href="#cb1-32" aria-hidden="true" tabindex="-1"></a>          <span class="at">DimensionValueType =</span> <span class="st">"VARCHAR"</span></span>
<span id="cb1-33"><a href="#cb1-33" aria-hidden="true" tabindex="-1"></a>        )</span>
<span id="cb1-34"><a href="#cb1-34" aria-hidden="true" tabindex="-1"></a>      ),</span>
<span id="cb1-35"><a href="#cb1-35" aria-hidden="true" tabindex="-1"></a>      <span class="at">MeasureName =</span> <span class="st">"string"</span>,</span>
<span id="cb1-36"><a href="#cb1-36" aria-hidden="true" tabindex="-1"></a>      <span class="at">MeasureValue =</span> <span class="st">"string"</span>,</span>
<span id="cb1-37"><a href="#cb1-37" aria-hidden="true" tabindex="-1"></a>      <span class="at">MeasureValueType =</span> <span class="st">"DOUBLE"</span><span class="sc">|</span><span class="st">"BIGINT"</span><span class="sc">|</span><span class="st">"VARCHAR"</span><span class="sc">|</span><span class="st">"BOOLEAN"</span><span class="sc">|</span><span class="st">"TIMESTAMP"</span><span class="sc">|</span><span class="st">"MULTI"</span>,</span>
<span id="cb1-38"><a href="#cb1-38" aria-hidden="true" tabindex="-1"></a>      <span class="at">Time =</span> <span class="st">"string"</span>,</span>
<span id="cb1-39"><a href="#cb1-39" aria-hidden="true" tabindex="-1"></a>      <span class="at">TimeUnit =</span> <span class="st">"MILLISECONDS"</span><span class="sc">|</span><span class="st">"SECONDS"</span><span class="sc">|</span><span class="st">"MICROSECONDS"</span><span class="sc">|</span><span class="st">"NANOSECONDS"</span>,</span>
<span id="cb1-40"><a href="#cb1-40" aria-hidden="true" tabindex="-1"></a>      <span class="at">Version =</span> <span class="dv">123</span>,</span>
<span id="cb1-41"><a href="#cb1-41" aria-hidden="true" tabindex="-1"></a>      <span class="at">MeasureValues =</span> <span class="fu">list</span>(</span>
<span id="cb1-42"><a href="#cb1-42" aria-hidden="true" tabindex="-1"></a>        <span class="fu">list</span>(</span>
<span id="cb1-43"><a href="#cb1-43" aria-hidden="true" tabindex="-1"></a>          <span class="at">Name =</span> <span class="st">"string"</span>,</span>
<span id="cb1-44"><a href="#cb1-44" aria-hidden="true" tabindex="-1"></a>          <span class="at">Value =</span> <span class="st">"string"</span>,</span>
<span id="cb1-45"><a href="#cb1-45" aria-hidden="true" tabindex="-1"></a>          <span class="at">Type =</span> <span class="st">"DOUBLE"</span><span class="sc">|</span><span class="st">"BIGINT"</span><span class="sc">|</span><span class="st">"VARCHAR"</span><span class="sc">|</span><span class="st">"BOOLEAN"</span><span class="sc">|</span><span class="st">"TIMESTAMP"</span><span class="sc">|</span><span class="st">"MULTI"</span></span>
<span id="cb1-46"><a href="#cb1-46" aria-hidden="true" tabindex="-1"></a>        )</span>
<span id="cb1-47"><a href="#cb1-47" aria-hidden="true" tabindex="-1"></a>      )</span>
<span id="cb1-48"><a href="#cb1-48" aria-hidden="true" tabindex="-1"></a>    )</span>
<span id="cb1-49"><a href="#cb1-49" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb1-50"><a href="#cb1-50" aria-hidden="true" tabindex="-1"></a>)</span></code></pre><p></p></div>
    </div>

  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <nav id="toc" data-toggle="toc" class="sticky-top"><h2 data-toc-skip>Contents</h2>
    </nav></div>
</div>


      <footer><div class="copyright">
  <p></p><p>Developed by David Kretch, Adam Banker, Dyfan Jones.</p>
</div>

<div class="pkgdown">
  <p></p><p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.7.</p>
</div>

      </footer></div>

  


  

  </body></html>

