<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0"><title>Creates a digital signature for a message or message digest by using the
private key in an asymmetric signing KMS key — kms_sign • paws</title><!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script><!-- Bootstrap --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous"><script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="../../bootstrap-toc.css"><script src="../../bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous"><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../../pkgdown.css" rel="stylesheet"><script src="../../pkgdown.js"></script><meta property="og:title" content="Creates a digital signature for a message or message digest by using the
private key in an asymmetric signing KMS key — kms_sign"><meta property="og:description" content="Creates a digital signature for a
message or message digest by using the private key in an asymmetric
signing KMS key. To verify the signature, use the verify
operation, or use the public key in the same asymmetric KMS key outside
of KMS. For information about asymmetric KMS keys, see Asymmetric KMS keys
in the Key Management Service Developer Guide.
Digital signatures are generated and verified by using asymmetric key
pair, such as an RSA or ECC pair that is represented by an asymmetric
KMS key. The key owner (or an authorized user) uses their private key to
sign a message. Anyone with the public key can verify that the message
was signed with that particular private key and that the message hasn't
changed since it was signed.
To use the sign operation, provide the following
information:
Use the KeyId parameter to identify an asymmetric KMS key with a
KeyUsage value of SIGN_VERIFY. To get the KeyUsage value of a
KMS key, use the describe_key operation. The
caller must have kms:Sign permission on the KMS key.
Use the Message parameter to specify the message or message digest
to sign. You can submit messages of up to 4096 bytes. To sign a
larger message, generate a hash digest of the message, and then
provide the hash digest in the Message parameter. To indicate
whether the message is a full message or a digest, use the
MessageType parameter.
Choose a signing algorithm that is compatible with the KMS key.


When signing a message, be sure to record the KMS key and the signing
algorithm. This information is required to verify the signature.
Best practices recommend that you limit the time during which any
signature is effective. This deters an attack where the actor uses a
signed message to establish validity repeatedly or long after the
message is superseded. Signatures do not include a timestamp, but you
can include a timestamp in the signed message to help you detect when
its time to refresh the signature.
To verify the signature that this operation generates, use the
verify operation. Or use the
get_public_key operation to download the public
key and then use the public key to verify the signature outside of KMS.
The KMS key that you use for this operation must be in a compatible key
state. For details, see Key states of KMS keys
in the Key Management Service Developer Guide.
Cross-account use: Yes. To perform this operation with a KMS key in
a different Amazon Web Services account, specify the key ARN or alias
ARN in the value of the KeyId parameter.
Required permissions:
kms:Sign
(key policy)
Related operations: verify"><!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]--></head><body data-spy="scroll" data-target="#toc">
    

    <div class="container template-reference-topic">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../../index.html">paws</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="">0.2.0</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav"><li>
  <a href="../../reference/index.html">Reference</a>
</li>
<li>
  <a href="../../news/index.html">Changelog</a>
</li>
      </ul><ul class="nav navbar-nav navbar-right"><li>
  <a href="https://github.com/paws-r/paws/" class="external-link">
    <span class="fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul></div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      

      </header><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Creates a digital signature for a message or message digest by using the
private key in an asymmetric signing KMS key</h1>
    <small class="dont-index">Source: <a href="https://github.com/paws-r/paws/blob/HEAD/R/kms_operations.R" class="external-link"><code>R/kms_operations.R</code></a></small>
    <div class="hidden name"><code>kms_sign.Rd</code></div>
    </div>

    <div class="ref-description">
    <p>Creates a <a href="https://en.wikipedia.org/wiki/Digital_signature" class="external-link">digital signature</a> for a
message or message digest by using the private key in an asymmetric
signing KMS key. To verify the signature, use the <code><a href="kms_verify.html">verify</a></code>
operation, or use the public key in the same asymmetric KMS key outside
of KMS. For information about asymmetric KMS keys, see <a href="https://docs.aws.amazon.com/kms/latest/developerguide/symmetric-asymmetric.html" class="external-link">Asymmetric KMS keys</a>
in the <em>Key Management Service Developer Guide</em>.</p>
<p>Digital signatures are generated and verified by using asymmetric key
pair, such as an RSA or ECC pair that is represented by an asymmetric
KMS key. The key owner (or an authorized user) uses their private key to
sign a message. Anyone with the public key can verify that the message
was signed with that particular private key and that the message hasn't
changed since it was signed.</p>
<p>To use the <code>sign</code> operation, provide the following
information:</p><ul><li><p>Use the <code>KeyId</code> parameter to identify an asymmetric KMS key with a
<code>KeyUsage</code> value of <code>SIGN_VERIFY</code>. To get the <code>KeyUsage</code> value of a
KMS key, use the <code><a href="kms_describe_key.html">describe_key</a></code> operation. The
caller must have <code>kms:Sign</code> permission on the KMS key.</p></li>
<li><p>Use the <code>Message</code> parameter to specify the message or message digest
to sign. You can submit messages of up to 4096 bytes. To sign a
larger message, generate a hash digest of the message, and then
provide the hash digest in the <code>Message</code> parameter. To indicate
whether the message is a full message or a digest, use the
<code>MessageType</code> parameter.</p></li>
<li><p>Choose a signing algorithm that is compatible with the KMS key.</p></li>
</ul><p>When signing a message, be sure to record the KMS key and the signing
algorithm. This information is required to verify the signature.</p>
<p>Best practices recommend that you limit the time during which any
signature is effective. This deters an attack where the actor uses a
signed message to establish validity repeatedly or long after the
message is superseded. Signatures do not include a timestamp, but you
can include a timestamp in the signed message to help you detect when
its time to refresh the signature.</p>
<p>To verify the signature that this operation generates, use the
<code><a href="kms_verify.html">verify</a></code> operation. Or use the
<code><a href="kms_get_public_key.html">get_public_key</a></code> operation to download the public
key and then use the public key to verify the signature outside of KMS.</p>
<p>The KMS key that you use for this operation must be in a compatible key
state. For details, see <a href="https://docs.aws.amazon.com/kms/latest/developerguide/key-state.html" class="external-link">Key states of KMS keys</a>
in the <em>Key Management Service Developer Guide</em>.</p>
<p><strong>Cross-account use</strong>: Yes. To perform this operation with a KMS key in
a different Amazon Web Services account, specify the key ARN or alias
ARN in the value of the <code>KeyId</code> parameter.</p>
<p><strong>Required permissions</strong>:
<a href="https://docs.aws.amazon.com/kms/latest/developerguide/kms-api-permissions-reference.html" class="external-link">kms:Sign</a>
(key policy)</p>
<p><strong>Related operations</strong>: <code><a href="kms_verify.html">verify</a></code></p>
    </div>

    <div id="ref-usage">
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">kms_sign</span><span class="op">(</span><span class="va">KeyId</span>, <span class="va">Message</span>, <span class="va">MessageType</span>, <span class="va">GrantTokens</span>, <span class="va">SigningAlgorithm</span><span class="op">)</span></span></code></pre></div>
    </div>

    <div id="arguments">
    <h2>Arguments</h2>
    <dl><dt>KeyId</dt>
<dd><p>[required] Identifies an asymmetric KMS key. KMS uses the private key in the
asymmetric KMS key to sign the message. The <code>KeyUsage</code> type of the KMS
key must be <code>SIGN_VERIFY</code>. To find the <code>KeyUsage</code> of a KMS key, use the
<code><a href="kms_describe_key.html">describe_key</a></code> operation.</p>
<p>To specify a KMS key, use its key ID, key ARN, alias name, or alias ARN.
When using an alias name, prefix it with <code>"alias/"</code>. To specify a KMS
key in a different Amazon Web Services account, you must use the key ARN
or alias ARN.</p>
<p>For example:</p><ul><li><p>Key ID: <code>1234abcd-12ab-34cd-56ef-1234567890ab</code></p></li>
<li><p>Key ARN:
<code>arn:aws:kms:us-east-2:111122223333:key/1234abcd-12ab-34cd-56ef-1234567890ab</code></p></li>
<li><p>Alias name: <code>alias/ExampleAlias</code></p></li>
<li><p>Alias ARN: <code>arn:aws:kms:us-east-2:111122223333:alias/ExampleAlias</code></p></li>
</ul><p>To get the key ID and key ARN for a KMS key, use
<code><a href="kms_list_keys.html">list_keys</a></code> or <code><a href="kms_describe_key.html">describe_key</a></code>. To
get the alias name and alias ARN, use
<code><a href="kms_list_aliases.html">list_aliases</a></code>.</p></dd>


<dt>Message</dt>
<dd><p>[required] Specifies the message or message digest to sign. Messages can be 0-4096
bytes. To sign a larger message, provide the message digest.</p>
<p>If you provide a message, KMS generates a hash digest of the message and
then signs it.</p></dd>


<dt>MessageType</dt>
<dd><p>Tells KMS whether the value of the <code>Message</code> parameter is a message or
message digest. The default value, RAW, indicates a message. To indicate
a message digest, enter <code>DIGEST</code>.</p></dd>


<dt>GrantTokens</dt>
<dd><p>A list of grant tokens.</p>
<p>Use a grant token when your permission to call this operation comes from
a new grant that has not yet achieved <em>eventual consistency</em>. For more
information, see <a href="https://docs.aws.amazon.com/kms/latest/developerguide/grants.html#grant_token" class="external-link">Grant token</a>
and <a href="https://docs.aws.amazon.com/kms/latest/developerguide/grant-manage.html#using-grant-token" class="external-link">Using a grant token</a>
in the <em>Key Management Service Developer Guide</em>.</p></dd>


<dt>SigningAlgorithm</dt>
<dd><p>[required] Specifies the signing algorithm to use when signing the message.</p>
<p>Choose an algorithm that is compatible with the type and size of the
specified asymmetric KMS key.</p></dd>

</dl></div>
    <div id="value">
    <h2>Value</h2>
    

<p>A list with the following syntax:</p>


<p></p><div class="sourceCode"><pre><code><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a><span class="fu">list</span>(</span>
<span id="cb1-2"><a href="#cb1-2" aria-hidden="true" tabindex="-1"></a>  <span class="at">KeyId =</span> <span class="st">"string"</span>,</span>
<span id="cb1-3"><a href="#cb1-3" aria-hidden="true" tabindex="-1"></a>  <span class="at">Signature =</span> raw,</span>
<span id="cb1-4"><a href="#cb1-4" aria-hidden="true" tabindex="-1"></a>  <span class="at">SigningAlgorithm =</span> <span class="st">"RSASSA_PSS_SHA_256"</span><span class="sc">|</span><span class="st">"RSASSA_PSS_SHA_384"</span><span class="sc">|</span><span class="st">"RSASSA_PSS_SHA_512"</span><span class="sc">|</span><span class="st">"RSASSA_PKCS1_V1_5_SHA_256"</span><span class="sc">|</span><span class="st">"RSASSA_PKCS1_V1_5_SHA_384"</span><span class="sc">|</span><span class="st">"RSASSA_PKCS1_V1_5_SHA_512"</span><span class="sc">|</span><span class="st">"ECDSA_SHA_256"</span><span class="sc">|</span><span class="st">"ECDSA_SHA_384"</span><span class="sc">|</span><span class="st">"ECDSA_SHA_512"</span><span class="sc">|</span><span class="st">"SM2DSA"</span></span>
<span id="cb1-5"><a href="#cb1-5" aria-hidden="true" tabindex="-1"></a>)</span></code></pre><p></p></div>


    </div>
    <div id="request-syntax">
    <h2>Request syntax</h2>
    


<p></p><div class="sourceCode"><pre><code><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a>svc<span class="sc">$</span><span class="fu">sign</span>(</span>
<span id="cb1-2"><a href="#cb1-2" aria-hidden="true" tabindex="-1"></a>  <span class="at">KeyId =</span> <span class="st">"string"</span>,</span>
<span id="cb1-3"><a href="#cb1-3" aria-hidden="true" tabindex="-1"></a>  <span class="at">Message =</span> raw,</span>
<span id="cb1-4"><a href="#cb1-4" aria-hidden="true" tabindex="-1"></a>  <span class="at">MessageType =</span> <span class="st">"RAW"</span><span class="sc">|</span><span class="st">"DIGEST"</span>,</span>
<span id="cb1-5"><a href="#cb1-5" aria-hidden="true" tabindex="-1"></a>  <span class="at">GrantTokens =</span> <span class="fu">list</span>(</span>
<span id="cb1-6"><a href="#cb1-6" aria-hidden="true" tabindex="-1"></a>    <span class="st">"string"</span></span>
<span id="cb1-7"><a href="#cb1-7" aria-hidden="true" tabindex="-1"></a>  ),</span>
<span id="cb1-8"><a href="#cb1-8" aria-hidden="true" tabindex="-1"></a>  <span class="at">SigningAlgorithm =</span> <span class="st">"RSASSA_PSS_SHA_256"</span><span class="sc">|</span><span class="st">"RSASSA_PSS_SHA_384"</span><span class="sc">|</span><span class="st">"RSASSA_PSS_SHA_512"</span><span class="sc">|</span><span class="st">"RSASSA_PKCS1_V1_5_SHA_256"</span><span class="sc">|</span><span class="st">"RSASSA_PKCS1_V1_5_SHA_384"</span><span class="sc">|</span><span class="st">"RSASSA_PKCS1_V1_5_SHA_512"</span><span class="sc">|</span><span class="st">"ECDSA_SHA_256"</span><span class="sc">|</span><span class="st">"ECDSA_SHA_384"</span><span class="sc">|</span><span class="st">"ECDSA_SHA_512"</span><span class="sc">|</span><span class="st">"SM2DSA"</span></span>
<span id="cb1-9"><a href="#cb1-9" aria-hidden="true" tabindex="-1"></a>)</span></code></pre><p></p></div>
    </div>

    <div id="ref-examples">
    <h2>Examples</h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="kw">if</span> <span class="op">(</span><span class="cn">FALSE</span><span class="op">)</span> <span class="op">{</span></span>
<span><span class="co"># This operation uses the private key in an asymmetric elliptic curve</span></span>
<span><span class="co"># (ECC) KMS key to generate a digital signature for a given message.</span></span>
<span><span class="va">svc</span><span class="op">$</span><span class="fu">sign</span><span class="op">(</span></span>
<span>  KeyId <span class="op">=</span> <span class="st">"alias/ECC_signing_key"</span>,</span>
<span>  Message <span class="op">=</span> <span class="st">"&lt;message to be signed&gt;"</span>,</span>
<span>  MessageType <span class="op">=</span> <span class="st">"RAW"</span>,</span>
<span>  SigningAlgorithm <span class="op">=</span> <span class="st">"ECDSA_SHA_384"</span></span>
<span><span class="op">)</span></span>
<span><span class="op">}</span></span>
<span></span></code></pre></div>
    </div>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <nav id="toc" data-toggle="toc" class="sticky-top"><h2 data-toc-skip>Contents</h2>
    </nav></div>
</div>


      <footer><div class="copyright">
  <p></p><p>Developed by David Kretch, Adam Banker, Dyfan Jones.</p>
</div>

<div class="pkgdown">
  <p></p><p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.7.</p>
</div>

      </footer></div>

  


  

  </body></html>

