<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0"><title>Query is a synchronous operation that enables you to run a query against
your Amazon Timestream data — timestreamquery_query • paws</title><!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script><!-- Bootstrap --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous"><script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="../../bootstrap-toc.css"><script src="../../bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous"><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../../pkgdown.css" rel="stylesheet"><script src="../../pkgdown.js"></script><meta property="og:title" content="Query is a synchronous operation that enables you to run a query against
your Amazon Timestream data — timestreamquery_query"><meta property="og:description" content="query is a synchronous operation that enables
you to run a query against your Amazon Timestream data.
query will time out after 60 seconds. You
must update the default timeout in the SDK to support a timeout of 60
seconds. See the code sample
for details.
Your query request will fail in the following cases:
If you submit a query request with the
same client token outside of the 5-minute idempotency window.
If you submit a query request with the
same client token, but change other parameters, within the 5-minute
idempotency window.
If the size of the row (including the query metadata) exceeds 1 MB,
then the query will fail with the following error message:
Query aborted as max page response size has been exceeded by the output result row
If the IAM principal of the query initiator and the result reader
are not the same and/or the query initiator and the result reader do
not have the same query string in the query requests, the query will
fail with an Invalid pagination token error.

"><!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]--></head><body data-spy="scroll" data-target="#toc">
    

    <div class="container template-reference-topic">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../../index.html">paws</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="">0.2.0</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav"><li>
  <a href="../../reference/index.html">Reference</a>
</li>
<li>
  <a href="../../news/index.html">Changelog</a>
</li>
      </ul><ul class="nav navbar-nav navbar-right"><li>
  <a href="https://github.com/paws-r/paws/" class="external-link">
    <span class="fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul></div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      

      </header><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Query is a synchronous operation that enables you to run a query against
your Amazon Timestream data</h1>
    <small class="dont-index">Source: <a href="https://github.com/paws-r/paws/blob/HEAD/R/timestreamquery_operations.R" class="external-link"><code>R/timestreamquery_operations.R</code></a></small>
    <div class="hidden name"><code>timestreamquery_query.Rd</code></div>
    </div>

    <div class="ref-description">
    <p><code>query</code> is a synchronous operation that enables
you to run a query against your Amazon Timestream data.
<code>query</code> will time out after 60 seconds. You
must update the default timeout in the SDK to support a timeout of 60
seconds. See the <a href="https://docs.aws.amazon.com/timestream/latest/developerguide/code-samples.run-query.html" class="external-link">code sample</a>
for details.</p>
<p>Your query request will fail in the following cases:</p><ul><li><p>If you submit a <code>query</code> request with the
same client token outside of the 5-minute idempotency window.</p></li>
<li><p>If you submit a <code>query</code> request with the
same client token, but change other parameters, within the 5-minute
idempotency window.</p></li>
<li><p>If the size of the row (including the query metadata) exceeds 1 MB,
then the query will fail with the following error message:</p>
<p><code>Query aborted as max page response size has been exceeded by the output result row</code></p></li>
<li><p>If the IAM principal of the query initiator and the result reader
are not the same and/or the query initiator and the result reader do
not have the same query string in the query requests, the query will
fail with an <code>Invalid pagination token</code> error.</p></li>
</ul></div>

    <div id="ref-usage">
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">timestreamquery_query</span><span class="op">(</span><span class="va">QueryString</span>, <span class="va">ClientToken</span>, <span class="va">NextToken</span>, <span class="va">MaxRows</span><span class="op">)</span></span></code></pre></div>
    </div>

    <div id="arguments">
    <h2>Arguments</h2>
    <dl><dt>QueryString</dt>
<dd><p>[required] The query to be run by Timestream.</p></dd>


<dt>ClientToken</dt>
<dd><p>Unique, case-sensitive string of up to 64 ASCII characters specified
when a <code>query</code> request is made. Providing a
<code>ClientToken</code> makes the call to <code>query</code>
<em>idempotent</em>. This means that running the same query repeatedly will
produce the same result. In other words, making multiple identical
<code>query</code> requests has the same effect as making
a single request. When using <code>ClientToken</code> in a query, note the
following:</p><ul><li><p>If the Query API is instantiated without a <code>ClientToken</code>, the Query
SDK generates a <code>ClientToken</code> on your behalf.</p></li>
<li><p>If the <code>query</code> invocation only contains the
<code>ClientToken</code> but does not include a <code>NextToken</code>, that invocation of
<code>query</code> is assumed to be a new query run.</p></li>
<li><p>If the invocation contains <code>NextToken</code>, that particular invocation
is assumed to be a subsequent invocation of a prior call to the
Query API, and a result set is returned.</p></li>
<li><p>After 4 hours, any request with the same <code>ClientToken</code> is treated as
a new request.</p></li>
</ul></dd>


<dt>NextToken</dt>
<dd><p>A pagination token used to return a set of results. When the
<code>query</code> API is invoked using <code>NextToken</code>, that
particular invocation is assumed to be a subsequent invocation of a
prior call to <code>query</code>, and a result set is
returned. However, if the <code>query</code> invocation
only contains the <code>ClientToken</code>, that invocation of
<code>query</code> is assumed to be a new query run.</p>
<p>Note the following when using NextToken in a query:</p><ul><li><p>A pagination token can be used for up to five
<code>query</code> invocations, OR for a duration of
up to 1 hour – whichever comes first.</p></li>
<li><p>Using the same <code>NextToken</code> will return the same set of records. To
keep paginating through the result set, you must to use the most
recent <code>nextToken</code>.</p></li>
<li><p>Suppose a <code>query</code> invocation returns two
<code>NextToken</code> values, <code>TokenA</code> and <code>TokenB</code>. If <code>TokenB</code> is used in a
subsequent <code>query</code> invocation, then
<code>TokenA</code> is invalidated and cannot be reused.</p></li>
<li><p>To request a previous result set from a query after pagination has
begun, you must re-invoke the Query API.</p></li>
<li><p>The latest <code>NextToken</code> should be used to paginate until <code>null</code> is
returned, at which point a new <code>NextToken</code> should be used.</p></li>
<li><p>If the IAM principal of the query initiator and the result reader
are not the same and/or the query initiator and the result reader do
not have the same query string in the query requests, the query will
fail with an <code>Invalid pagination token</code> error.</p></li>
</ul></dd>


<dt>MaxRows</dt>
<dd><p>The total number of rows to be returned in the
<code>query</code> output. The initial run of
<code>query</code> with a <code>MaxRows</code> value specified will
return the result set of the query in two cases:</p><ul><li><p>The size of the result is less than <code>1MB</code>.</p></li>
<li><p>The number of rows in the result set is less than the value of
<code>maxRows</code>.</p></li>
</ul><p>Otherwise, the initial invocation of <code>query</code>
only returns a <code>NextToken</code>, which can then be used in subsequent calls
to fetch the result set. To resume pagination, provide the <code>NextToken</code>
value in the subsequent command.</p>
<p>If the row size is large (e.g. a row has many columns), Timestream may
return fewer rows to keep the response size from exceeding the 1 MB
limit. If <code>MaxRows</code> is not provided, Timestream will send the necessary
number of rows to meet the 1 MB limit.</p></dd>

</dl></div>
    <div id="value">
    <h2>Value</h2>
    

<p>A list with the following syntax:</p>


<p></p><div class="sourceCode"><pre><code><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a><span class="fu">list</span>(</span>
<span id="cb1-2"><a href="#cb1-2" aria-hidden="true" tabindex="-1"></a>  <span class="at">QueryId =</span> <span class="st">"string"</span>,</span>
<span id="cb1-3"><a href="#cb1-3" aria-hidden="true" tabindex="-1"></a>  <span class="at">NextToken =</span> <span class="st">"string"</span>,</span>
<span id="cb1-4"><a href="#cb1-4" aria-hidden="true" tabindex="-1"></a>  <span class="at">Rows =</span> <span class="fu">list</span>(</span>
<span id="cb1-5"><a href="#cb1-5" aria-hidden="true" tabindex="-1"></a>    <span class="fu">list</span>(</span>
<span id="cb1-6"><a href="#cb1-6" aria-hidden="true" tabindex="-1"></a>      <span class="at">Data =</span> <span class="fu">list</span>(</span>
<span id="cb1-7"><a href="#cb1-7" aria-hidden="true" tabindex="-1"></a>        <span class="fu">list</span>(</span>
<span id="cb1-8"><a href="#cb1-8" aria-hidden="true" tabindex="-1"></a>          <span class="at">ScalarValue =</span> <span class="st">"string"</span>,</span>
<span id="cb1-9"><a href="#cb1-9" aria-hidden="true" tabindex="-1"></a>          <span class="at">TimeSeriesValue =</span> <span class="fu">list</span>(</span>
<span id="cb1-10"><a href="#cb1-10" aria-hidden="true" tabindex="-1"></a>            <span class="fu">list</span>(</span>
<span id="cb1-11"><a href="#cb1-11" aria-hidden="true" tabindex="-1"></a>              <span class="at">Time =</span> <span class="st">"string"</span>,</span>
<span id="cb1-12"><a href="#cb1-12" aria-hidden="true" tabindex="-1"></a>              <span class="at">Value =</span> <span class="fu">list</span>()</span>
<span id="cb1-13"><a href="#cb1-13" aria-hidden="true" tabindex="-1"></a>            )</span>
<span id="cb1-14"><a href="#cb1-14" aria-hidden="true" tabindex="-1"></a>          ),</span>
<span id="cb1-15"><a href="#cb1-15" aria-hidden="true" tabindex="-1"></a>          <span class="at">ArrayValue =</span> <span class="fu">list</span>(),</span>
<span id="cb1-16"><a href="#cb1-16" aria-hidden="true" tabindex="-1"></a>          <span class="at">RowValue =</span> <span class="fu">list</span>(),</span>
<span id="cb1-17"><a href="#cb1-17" aria-hidden="true" tabindex="-1"></a>          <span class="at">NullValue =</span> <span class="cn">TRUE</span><span class="sc">|</span><span class="cn">FALSE</span></span>
<span id="cb1-18"><a href="#cb1-18" aria-hidden="true" tabindex="-1"></a>        )</span>
<span id="cb1-19"><a href="#cb1-19" aria-hidden="true" tabindex="-1"></a>      )</span>
<span id="cb1-20"><a href="#cb1-20" aria-hidden="true" tabindex="-1"></a>    )</span>
<span id="cb1-21"><a href="#cb1-21" aria-hidden="true" tabindex="-1"></a>  ),</span>
<span id="cb1-22"><a href="#cb1-22" aria-hidden="true" tabindex="-1"></a>  <span class="at">ColumnInfo =</span> <span class="fu">list</span>(</span>
<span id="cb1-23"><a href="#cb1-23" aria-hidden="true" tabindex="-1"></a>    <span class="fu">list</span>(</span>
<span id="cb1-24"><a href="#cb1-24" aria-hidden="true" tabindex="-1"></a>      <span class="at">Name =</span> <span class="st">"string"</span>,</span>
<span id="cb1-25"><a href="#cb1-25" aria-hidden="true" tabindex="-1"></a>      <span class="at">Type =</span> <span class="fu">list</span>(</span>
<span id="cb1-26"><a href="#cb1-26" aria-hidden="true" tabindex="-1"></a>        <span class="at">ScalarType =</span> <span class="st">"VARCHAR"</span><span class="sc">|</span><span class="st">"BOOLEAN"</span><span class="sc">|</span><span class="st">"BIGINT"</span><span class="sc">|</span><span class="st">"DOUBLE"</span><span class="sc">|</span><span class="st">"TIMESTAMP"</span><span class="sc">|</span><span class="st">"DATE"</span><span class="sc">|</span><span class="st">"TIME"</span><span class="sc">|</span><span class="st">"INTERVAL_DAY_TO_SECOND"</span><span class="sc">|</span><span class="st">"INTERVAL_YEAR_TO_MONTH"</span><span class="sc">|</span><span class="st">"UNKNOWN"</span><span class="sc">|</span><span class="st">"INTEGER"</span>,</span>
<span id="cb1-27"><a href="#cb1-27" aria-hidden="true" tabindex="-1"></a>        <span class="at">ArrayColumnInfo =</span> <span class="fu">list</span>(),</span>
<span id="cb1-28"><a href="#cb1-28" aria-hidden="true" tabindex="-1"></a>        <span class="at">TimeSeriesMeasureValueColumnInfo =</span> <span class="fu">list</span>(),</span>
<span id="cb1-29"><a href="#cb1-29" aria-hidden="true" tabindex="-1"></a>        <span class="at">RowColumnInfo =</span> <span class="fu">list</span>()</span>
<span id="cb1-30"><a href="#cb1-30" aria-hidden="true" tabindex="-1"></a>      )</span>
<span id="cb1-31"><a href="#cb1-31" aria-hidden="true" tabindex="-1"></a>    )</span>
<span id="cb1-32"><a href="#cb1-32" aria-hidden="true" tabindex="-1"></a>  ),</span>
<span id="cb1-33"><a href="#cb1-33" aria-hidden="true" tabindex="-1"></a>  <span class="at">QueryStatus =</span> <span class="fu">list</span>(</span>
<span id="cb1-34"><a href="#cb1-34" aria-hidden="true" tabindex="-1"></a>    <span class="at">ProgressPercentage =</span> <span class="fl">123.0</span>,</span>
<span id="cb1-35"><a href="#cb1-35" aria-hidden="true" tabindex="-1"></a>    <span class="at">CumulativeBytesScanned =</span> <span class="dv">123</span>,</span>
<span id="cb1-36"><a href="#cb1-36" aria-hidden="true" tabindex="-1"></a>    <span class="at">CumulativeBytesMetered =</span> <span class="dv">123</span></span>
<span id="cb1-37"><a href="#cb1-37" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb1-38"><a href="#cb1-38" aria-hidden="true" tabindex="-1"></a>)</span></code></pre><p></p></div>


    </div>
    <div id="request-syntax">
    <h2>Request syntax</h2>
    


<p></p><div class="sourceCode"><pre><code><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a>svc<span class="sc">$</span><span class="fu">query</span>(</span>
<span id="cb1-2"><a href="#cb1-2" aria-hidden="true" tabindex="-1"></a>  <span class="at">QueryString =</span> <span class="st">"string"</span>,</span>
<span id="cb1-3"><a href="#cb1-3" aria-hidden="true" tabindex="-1"></a>  <span class="at">ClientToken =</span> <span class="st">"string"</span>,</span>
<span id="cb1-4"><a href="#cb1-4" aria-hidden="true" tabindex="-1"></a>  <span class="at">NextToken =</span> <span class="st">"string"</span>,</span>
<span id="cb1-5"><a href="#cb1-5" aria-hidden="true" tabindex="-1"></a>  <span class="at">MaxRows =</span> <span class="dv">123</span></span>
<span id="cb1-6"><a href="#cb1-6" aria-hidden="true" tabindex="-1"></a>)</span></code></pre><p></p></div>
    </div>

  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <nav id="toc" data-toggle="toc" class="sticky-top"><h2 data-toc-skip>Contents</h2>
    </nav></div>
</div>


      <footer><div class="copyright">
  <p></p><p>Developed by David Kretch, Adam Banker, Dyfan Jones.</p>
</div>

<div class="pkgdown">
  <p></p><p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.7.</p>
</div>

      </footer></div>

  


  

  </body></html>

