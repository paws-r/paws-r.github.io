<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0"><title>AWSMarketplace Metering — marketplacemetering • paws</title><!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script><!-- Bootstrap --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous"><script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="../bootstrap-toc.css"><script href="../bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous"><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet"><script href="../pkgdown.js"></script><meta property="og:title" content="AWSMarketplace Metering — marketplacemetering"><meta property="og:description" content="AWS Marketplace Metering Service
This reference provides descriptions of the low-level AWS Marketplace
Metering Service API.
AWS Marketplace sellers can use this API to submit usage data for custom
usage dimensions.
For information on the permissions you need to use this API, see AWS Marketplace metering and entitlement API permissions
in the AWS Marketplace Seller Guide.
Submitting Metering Records
MeterUsage - Submits the metering record for an AWS Marketplace
product. meter_usage is called
from an EC2 instance or a container running on EKS or ECS.
BatchMeterUsage - Submits the metering record for a set of
customers.
batch_meter_usage is
called from a software-as-a-service (SaaS) application.


Accepting New Customers
ResolveCustomer - Called by a SaaS application during the
registration process. When a buyer visits your website during the
registration process, the buyer submits a Registration Token through
the browser. The Registration Token is resolved through this API to
obtain a CustomerIdentifier along with the CustomerAWSAccountId
and ProductCode.


Entitlement and Metering for Paid Container Products
Paid container software products sold through AWS Marketplace must
integrate with the AWS Marketplace Metering Service and call the
register_usage operation for
software entitlement and metering. Free and BYOL products for Amazon
ECS or Amazon EKS aren't required to call
register_usage, but you can
do so if you want to receive usage data in your seller reports. For
more information on using the
register_usage operation,
see Container-Based Products.


batch_meter_usage API calls
are captured by AWS CloudTrail. You can use Cloudtrail to verify that
the SaaS metering records that you sent are accurate by searching for
records with the eventName of
batch_meter_usage. You can
also use CloudTrail to audit records over time. For more information,
see the AWS
CloudTrail User Guide."><!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]--></head><body data-spy="scroll" data-target="#toc">
    

    <div class="container template-reference-topic">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="..">paws</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="">0.2.0</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav"><li>
</li>
<li>
</li>
      </ul><ul class="nav navbar-nav navbar-right"><li>
  <a href="https://github.com/paws-r/paws/" class="external-link">
    <span class="fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul></div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      

      </header><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>AWSMarketplace Metering</h1>
    <small class="dont-index">Source: <a href="https://github.com/paws-r/paws/blob/HEAD/R/marketplacemetering_service.R" class="external-link"><code>R/marketplacemetering_service.R</code></a></small>
    <div class="hidden name"><code>marketplacemetering.Rd</code></div>
    </div>

    <div class="ref-description">
    <p>AWS Marketplace Metering Service</p>
<p>This reference provides descriptions of the low-level AWS Marketplace
Metering Service API.</p>
<p>AWS Marketplace sellers can use this API to submit usage data for custom
usage dimensions.</p>
<p>For information on the permissions you need to use this API, see <a href="https://docs.aws.amazon.com/marketplace/latest/userguide/iam-user-policy-for-aws-marketplace-actions.html" class="external-link">AWS Marketplace metering and entitlement API permissions</a>
in the <em>AWS Marketplace Seller Guide.</em></p>
<p><strong>Submitting Metering Records</strong></p><ul><li><p><em>MeterUsage</em> - Submits the metering record for an AWS Marketplace
product. <code><a href="meter_usage.html">meter_usage</a></code> is called
from an EC2 instance or a container running on EKS or ECS.</p></li>
<li><p><em>BatchMeterUsage</em> - Submits the metering record for a set of
customers.
<code><a href="batch_meter_usage.html">batch_meter_usage</a></code> is
called from a software-as-a-service (SaaS) application.</p></li>
</ul><p><strong>Accepting New Customers</strong></p><ul><li><p><em>ResolveCustomer</em> - Called by a SaaS application during the
registration process. When a buyer visits your website during the
registration process, the buyer submits a Registration Token through
the browser. The Registration Token is resolved through this API to
obtain a <code>CustomerIdentifier</code> along with the <code>CustomerAWSAccountId</code>
and <code>ProductCode</code>.</p></li>
</ul><p><strong>Entitlement and Metering for Paid Container Products</strong></p><ul><li><p>Paid container software products sold through AWS Marketplace must
integrate with the AWS Marketplace Metering Service and call the
<code><a href="register_usage.html">register_usage</a></code> operation for
software entitlement and metering. Free and BYOL products for Amazon
ECS or Amazon EKS aren't required to call
<code><a href="register_usage.html">register_usage</a></code>, but you can
do so if you want to receive usage data in your seller reports. For
more information on using the
<code><a href="register_usage.html">register_usage</a></code> operation,
see <a href="https://docs.aws.amazon.com/marketplace/latest/userguide/container-based-products.html" class="external-link">Container-Based Products</a>.</p></li>
</ul><p><code><a href="batch_meter_usage.html">batch_meter_usage</a></code> API calls
are captured by AWS CloudTrail. You can use Cloudtrail to verify that
the SaaS metering records that you sent are accurate by searching for
records with the <code>eventName</code> of
<code><a href="batch_meter_usage.html">batch_meter_usage</a></code>. You can
also use CloudTrail to audit records over time. For more information,
see the <em><span href="http://docs.aws.amazon.com/awscloudtrail/latest/userguide/cloudtrail-concepts.html">AWS
CloudTrail User Guide</span>.</em></p>
    </div>

    <div id="ref-usage">
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">marketplacemetering</span><span class="op">(</span>config <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span><span class="op">)</span><span class="op">)</span></span></code></pre></div>
    </div>

    <div id="arguments">
    <h2>Arguments</h2>
    <dl><dt>config</dt>
<dd><p>Optional configuration of credentials, endpoint, and/or region.</p><ul><li><p><strong>access_key_id</strong>: AWS access key ID</p></li>
<li><p><strong>secret_access_key</strong>: AWS secret access key</p></li>
<li><p><strong>session_token</strong>: AWS temporary session token</p></li>
<li><p><strong>profile</strong>: The name of a profile to use. If not given, then the default profile is used.</p></li>
<li><p><strong>anonymous</strong>: Set anonymous credentials.</p></li>
<li><p><strong>endpoint</strong>: The complete URL to use for the constructed client.</p></li>
<li><p><strong>region</strong>: The AWS Region used in instantiating the client.</p></li>
<li><p><strong>close_connection</strong>: Immediately close all HTTP connections.</p></li>
<li><p><strong>timeout</strong>: The time in seconds till a timeout exception is thrown when attempting to make a connection. The default is 60 seconds.</p></li>
<li><p><strong>s3_force_path_style</strong>: Set this to <code>true</code> to force the request to use path-style addressing, i.e., <code>http://s3.amazonaws.com/BUCKET/KEY</code>.</p></li>
</ul></dd>

</dl></div>
    <div id="value">
    <h2>Value</h2>
    

<p>A client for the service. You can call the service's operations using
syntax like <code>svc$operation(...)</code>, where <code>svc</code> is the name you've assigned
to the client. The available operations are listed in the
Operations section.</p>
    </div>
    <div id="service-syntax">
    <h2>Service syntax</h2>
    


<p></p><div class="sourceCode"><pre><code><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a>svc <span class="ot">&lt;-</span> <span class="fu">marketplacemetering</span>(</span>
<span id="cb1-2"><a href="#cb1-2" aria-hidden="true" tabindex="-1"></a>  <span class="at">config =</span> <span class="fu">list</span>(</span>
<span id="cb1-3"><a href="#cb1-3" aria-hidden="true" tabindex="-1"></a>    <span class="at">credentials =</span> <span class="fu">list</span>(</span>
<span id="cb1-4"><a href="#cb1-4" aria-hidden="true" tabindex="-1"></a>      <span class="at">creds =</span> <span class="fu">list</span>(</span>
<span id="cb1-5"><a href="#cb1-5" aria-hidden="true" tabindex="-1"></a>        <span class="at">access_key_id =</span> <span class="st">"string"</span>,</span>
<span id="cb1-6"><a href="#cb1-6" aria-hidden="true" tabindex="-1"></a>        <span class="at">secret_access_key =</span> <span class="st">"string"</span>,</span>
<span id="cb1-7"><a href="#cb1-7" aria-hidden="true" tabindex="-1"></a>        <span class="at">session_token =</span> <span class="st">"string"</span></span>
<span id="cb1-8"><a href="#cb1-8" aria-hidden="true" tabindex="-1"></a>      ),</span>
<span id="cb1-9"><a href="#cb1-9" aria-hidden="true" tabindex="-1"></a>      <span class="at">profile =</span> <span class="st">"string"</span>,</span>
<span id="cb1-10"><a href="#cb1-10" aria-hidden="true" tabindex="-1"></a>      <span class="at">anonymous =</span> <span class="st">"logical"</span></span>
<span id="cb1-11"><a href="#cb1-11" aria-hidden="true" tabindex="-1"></a>    ),</span>
<span id="cb1-12"><a href="#cb1-12" aria-hidden="true" tabindex="-1"></a>    <span class="at">endpoint =</span> <span class="st">"string"</span>,</span>
<span id="cb1-13"><a href="#cb1-13" aria-hidden="true" tabindex="-1"></a>    <span class="at">region =</span> <span class="st">"string"</span>,</span>
<span id="cb1-14"><a href="#cb1-14" aria-hidden="true" tabindex="-1"></a>    <span class="at">close_connection =</span> <span class="st">"logical"</span>,</span>
<span id="cb1-15"><a href="#cb1-15" aria-hidden="true" tabindex="-1"></a>    <span class="at">timeout =</span> <span class="st">"numeric"</span>,</span>
<span id="cb1-16"><a href="#cb1-16" aria-hidden="true" tabindex="-1"></a>    <span class="at">s3_force_path_style =</span> <span class="st">"logical"</span></span>
<span id="cb1-17"><a href="#cb1-17" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb1-18"><a href="#cb1-18" aria-hidden="true" tabindex="-1"></a>)</span></code></pre><p></p></div>
    </div>
    <div id="operations">
    <h2>Operations</h2>
    

<table class="table table"><tr><td><a href="batch_meter_usage.html">batch_meter_usage</a></td><td>BatchMeterUsage is called from a SaaS application listed on AWS Marketplace to post metering records for a set of customers</td></tr><tr><td><a href="meter_usage.html">meter_usage</a></td><td>API to emit metering records</td></tr><tr><td><a href="register_usage.html">register_usage</a></td><td>Paid container software products sold through AWS Marketplace must integrate with the AWS Marketplace Metering Service and call the RegisterUsage operation for software entitlement and metering</td></tr><tr><td><a href="resolve_customer.html">resolve_customer</a></td><td>ResolveCustomer is called by a SaaS application during the registration process</td></tr></table></div>

    <div id="ref-examples">
    <h2>Examples</h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="kw">if</span> <span class="op">(</span><span class="cn">FALSE</span><span class="op">)</span> <span class="op">{</span></span>
<span><span class="va">svc</span> <span class="op">&lt;-</span> <span class="fu">marketplacemetering</span><span class="op">(</span><span class="op">)</span></span>
<span><span class="va">svc</span><span class="op">$</span><span class="fu">batch_meter_usage</span><span class="op">(</span></span>
<span>  Foo <span class="op">=</span> <span class="fl">123</span></span>
<span><span class="op">)</span></span>
<span><span class="op">}</span></span>
<span></span></code></pre></div>
    </div>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <nav id="toc" data-toggle="toc" class="sticky-top"><h2 data-toc-skip>Contents</h2>
    </nav></div>
</div>


      <footer><div class="copyright">
  <p></p><p>Developed by David Kretch, Adam Banker, Dyfan Jones.</p>
</div>

<div class="pkgdown">
  <p></p><p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.7.</p>
</div>

      </footer></div>

  


  

  </body></html>

