<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0"><title>Generates a report that includes details about when an IAM resource
(user, group, role, or policy) was last used in an attempt to access
Amazon Web Services services — iam_generate_service_last_accessed_details • paws</title><!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script><!-- Bootstrap --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous"><script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="../bootstrap-toc.css"><script href="../bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous"><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet"><script href="../pkgdown.js"></script><meta property="og:title" content="Generates a report that includes details about when an IAM resource
(user, group, role, or policy) was last used in an attempt to access
Amazon Web Services services — iam_generate_service_last_accessed_details"><meta property="og:description" content="Generates a report that includes details about when an IAM resource
(user, group, role, or policy) was last used in an attempt to access
Amazon Web Services services. Recent activity usually appears within
four hours. IAM reports activity for at least the last 400 days, or less
if your Region began supporting this feature within the last year. For
more information, see Regions where data is tracked.
The service last accessed data includes all attempts to access an Amazon
Web Services API, not just the successful ones. This includes all
attempts that were made using the Amazon Web Services Management
Console, the Amazon Web Services API through any of the SDKs, or any of
the command line tools. An unexpected entry in the service last accessed
data does not mean that your account has been compromised, because the
request might have been denied. Refer to your CloudTrail logs as the
authoritative source for information about all API calls and whether
they were successful or denied access. For more information,
see Logging IAM events with CloudTrail
in the IAM User Guide.
The
generate_service_last_accessed_details
operation returns a JobId. Use this parameter in the following
operations to retrieve the following details from your report:
get_service_last_accessed_details
– Use this operation for users, groups, roles, or policies to list
every Amazon Web Services service that the resource could access
using permissions policies. For each service, the response includes
information about the most recent access attempt.
The JobId returned by GenerateServiceLastAccessedDetail must be
used by the same role within a session, or by the same user when
used to call GetServiceLastAccessedDetail.
get_service_last_accessed_details_with_entities
– Use this operation for groups and policies to list information
about the associated entities (users or roles) that attempted to
access a specific Amazon Web Services service.


To check the status of the
generate_service_last_accessed_details
request, use the JobId parameter in the same operations and test the
JobStatus response parameter.
For additional information about the permissions policies that allow an
identity (user, group, or role) to access specific services, use the
list_policies_granting_service_access
operation.
Service last accessed data does not use other policy types when
determining whether a resource could access a service. These other
policy types include resource-based policies, access control lists,
Organizations policies, IAM permissions boundaries, and STS assume role
policies. It only applies permissions policy logic. For more about the
evaluation of policy types, see Evaluating policies
in the IAM User Guide.
For more information about service and action last accessed data, see
Reducing permissions using service last accessed data
in the IAM User Guide."><!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]--></head><body data-spy="scroll" data-target="#toc">
    

    <div class="container template-reference-topic">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="..">paws</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="">0.2.0</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav"><li>
</li>
<li>
</li>
      </ul><ul class="nav navbar-nav navbar-right"><li>
  <a href="https://github.com/paws-r/paws/" class="external-link">
    <span class="fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul></div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      

      </header><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Generates a report that includes details about when an IAM resource
(user, group, role, or policy) was last used in an attempt to access
Amazon Web Services services</h1>
    <small class="dont-index">Source: <a href="https://github.com/paws-r/paws/blob/HEAD/R/iam_operations.R" class="external-link"><code>R/iam_operations.R</code></a></small>
    <div class="hidden name"><code>iam_generate_service_last_accessed_details.Rd</code></div>
    </div>

    <div class="ref-description">
    <p>Generates a report that includes details about when an IAM resource
(user, group, role, or policy) was last used in an attempt to access
Amazon Web Services services. Recent activity usually appears within
four hours. IAM reports activity for at least the last 400 days, or less
if your Region began supporting this feature within the last year. For
more information, see <a href="https://docs.aws.amazon.com/IAM/latest/UserGuide/access_policies_access-advisor.html#access-advisor_tracking-period" class="external-link">Regions where data is tracked</a>.</p>
<p>The service last accessed data includes all attempts to access an Amazon
Web Services API, not just the successful ones. This includes all
attempts that were made using the Amazon Web Services Management
Console, the Amazon Web Services API through any of the SDKs, or any of
the command line tools. An unexpected entry in the service last accessed
data does not mean that your account has been compromised, because the
request might have been denied. Refer to your CloudTrail logs as the
authoritative source for information about all API calls and whether
they were successful or denied access. For more information,
see <a href="https://docs.aws.amazon.com/IAM/latest/UserGuide/cloudtrail-integration.html" class="external-link">Logging IAM events with CloudTrail</a>
in the <em>IAM User Guide</em>.</p>
<p>The
<code>generate_service_last_accessed_details</code>
operation returns a <code>JobId</code>. Use this parameter in the following
operations to retrieve the following details from your report:</p><ul><li><p><code><a href="iam_get_service_last_accessed_details.html">get_service_last_accessed_details</a></code>
– Use this operation for users, groups, roles, or policies to list
every Amazon Web Services service that the resource could access
using permissions policies. For each service, the response includes
information about the most recent access attempt.</p>
<p>The <code>JobId</code> returned by <code>GenerateServiceLastAccessedDetail</code> must be
used by the same role within a session, or by the same user when
used to call <code>GetServiceLastAccessedDetail</code>.</p></li>
<li><p><code><a href="iam_get_service_last_accessed_details_with_entities.html">get_service_last_accessed_details_with_entities</a></code>
– Use this operation for groups and policies to list information
about the associated entities (users or roles) that attempted to
access a specific Amazon Web Services service.</p></li>
</ul><p>To check the status of the
<code>generate_service_last_accessed_details</code>
request, use the <code>JobId</code> parameter in the same operations and test the
<code>JobStatus</code> response parameter.</p>
<p>For additional information about the permissions policies that allow an
identity (user, group, or role) to access specific services, use the
<code><a href="iam_list_policies_granting_service_access.html">list_policies_granting_service_access</a></code>
operation.</p>
<p>Service last accessed data does not use other policy types when
determining whether a resource could access a service. These other
policy types include resource-based policies, access control lists,
Organizations policies, IAM permissions boundaries, and STS assume role
policies. It only applies permissions policy logic. For more about the
evaluation of policy types, see <a href="https://docs.aws.amazon.com/IAM/latest/UserGuide/reference_policies_evaluation-logic.html#policy-eval-basics" class="external-link">Evaluating policies</a>
in the <em>IAM User Guide</em>.</p>
<p>For more information about service and action last accessed data, see
<a href="https://docs.aws.amazon.com/IAM/latest/UserGuide/access_policies_access-advisor.html" class="external-link">Reducing permissions using service last accessed data</a>
in the <em>IAM User Guide</em>.</p>
    </div>

    <div id="ref-usage">
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">iam_generate_service_last_accessed_details</span><span class="op">(</span><span class="va">Arn</span>, <span class="va">Granularity</span><span class="op">)</span></span></code></pre></div>
    </div>

    <div id="arguments">
    <h2>Arguments</h2>
    <dl><dt>Arn</dt>
<dd><p>[required] The ARN of the IAM resource (user, group, role, or managed policy) used
to generate information about when the resource was last used in an
attempt to access an Amazon Web Services service.</p></dd>


<dt>Granularity</dt>
<dd><p>The level of detail that you want to generate. You can specify whether
you want to generate information about the last attempt to access
services or actions. If you specify service-level granularity, this
operation generates only service data. If you specify action-level
granularity, it generates service and action data. If you don't include
this optional parameter, the operation generates service data.</p></dd>

</dl></div>
    <div id="value">
    <h2>Value</h2>
    

<p>A list with the following syntax:</p>


<p></p><div class="sourceCode"><pre><code><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a><span class="fu">list</span>(</span>
<span id="cb1-2"><a href="#cb1-2" aria-hidden="true" tabindex="-1"></a>  <span class="at">JobId =</span> <span class="st">"string"</span></span>
<span id="cb1-3"><a href="#cb1-3" aria-hidden="true" tabindex="-1"></a>)</span></code></pre><p></p></div>


    </div>
    <div id="request-syntax">
    <h2>Request syntax</h2>
    


<p></p><div class="sourceCode"><pre><code><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a>svc<span class="sc">$</span><span class="fu">generate_service_last_accessed_details</span>(</span>
<span id="cb1-2"><a href="#cb1-2" aria-hidden="true" tabindex="-1"></a>  <span class="at">Arn =</span> <span class="st">"string"</span>,</span>
<span id="cb1-3"><a href="#cb1-3" aria-hidden="true" tabindex="-1"></a>  <span class="at">Granularity =</span> <span class="st">"SERVICE_LEVEL"</span><span class="sc">|</span><span class="st">"ACTION_LEVEL"</span></span>
<span id="cb1-4"><a href="#cb1-4" aria-hidden="true" tabindex="-1"></a>)</span></code></pre><p></p></div>
    </div>

    <div id="ref-examples">
    <h2>Examples</h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="kw">if</span> <span class="op">(</span><span class="cn">FALSE</span><span class="op">)</span> <span class="op">{</span></span>
<span><span class="co"># The following operation generates a report for the policy:</span></span>
<span><span class="co"># ExamplePolicy1</span></span>
<span><span class="va">svc</span><span class="op">$</span><span class="fu">generate_service_last_accessed_details</span><span class="op">(</span></span>
<span>  Arn <span class="op">=</span> <span class="st">"arn:aws:iam::123456789012:policy/ExamplePolicy1"</span></span>
<span><span class="op">)</span></span>
<span><span class="op">}</span></span>
<span></span></code></pre></div>
    </div>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <nav id="toc" data-toggle="toc" class="sticky-top"><h2 data-toc-skip>Contents</h2>
    </nav></div>
</div>


      <footer><div class="copyright">
  <p></p><p>Developed by David Kretch, Adam Banker, Dyfan Jones.</p>
</div>

<div class="pkgdown">
  <p></p><p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.7.</p>
</div>

      </footer></div>

  


  

  </body></html>

