<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0"><title>Creates a custom key store that is associated with an CloudHSM cluster
that you own and manage — kms_create_custom_key_store • paws</title><!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script><!-- Bootstrap --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous"><script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="../bootstrap-toc.css"><script href="../bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous"><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet"><script href="../pkgdown.js"></script><meta property="og:title" content="Creates a custom key store that is associated with an CloudHSM cluster
that you own and manage — kms_create_custom_key_store"><meta property="og:description" content="Creates a custom key store
that is associated with an CloudHSM cluster
that you own and manage.
This operation is part of the custom key store feature
feature in KMS, which combines the convenience and extensive integration
of KMS with the isolation and control of a single-tenant key store.
Before you create the custom key store, you must assemble the required
elements, including an CloudHSM cluster that fulfills the requirements
for a custom key store. For details about the required elements, see
Assemble the Prerequisites
in the Key Management Service Developer Guide.
When the operation completes successfully, it returns the ID of the new
custom key store. Before you can use your new custom key store, you need
to use the connect_custom_key_store
operation to connect the new key store to its CloudHSM cluster. Even if
you are not going to use your custom key store immediately, you might
want to connect it to verify that all settings are correct and then
disconnect it until you are ready to use it.
For help with failures, see Troubleshooting a Custom Key Store
in the Key Management Service Developer Guide.
Cross-account use: No. You cannot perform this operation on a custom
key store in a different Amazon Web Services account.
Required permissions:
kms:CreateCustomKeyStore
(IAM policy).
Related operations:
connect_custom_key_store
delete_custom_key_store
describe_custom_key_stores
disconnect_custom_key_store
update_custom_key_store

"><!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]--></head><body data-spy="scroll" data-target="#toc">
    

    <div class="container template-reference-topic">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="..">paws</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="">0.2.0</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav"><li>
</li>
<li>
</li>
      </ul><ul class="nav navbar-nav navbar-right"><li>
  <a href="https://github.com/paws-r/paws/" class="external-link">
    <span class="fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul></div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      

      </header><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Creates a custom key store that is associated with an CloudHSM cluster
that you own and manage</h1>
    <small class="dont-index">Source: <a href="https://github.com/paws-r/paws/blob/HEAD/R/kms_operations.R" class="external-link"><code>R/kms_operations.R</code></a></small>
    <div class="hidden name"><code>kms_create_custom_key_store.Rd</code></div>
    </div>

    <div class="ref-description">
    <p>Creates a <a href="https://docs.aws.amazon.com/kms/latest/developerguide/custom-key-store-overview.html" class="external-link">custom key store</a>
that is associated with an <a href="https://docs.aws.amazon.com/cloudhsm/latest/userguide/clusters.html" class="external-link">CloudHSM cluster</a>
that you own and manage.</p>
<p>This operation is part of the <a href="https://docs.aws.amazon.com/kms/latest/developerguide/custom-key-store-overview.html" class="external-link">custom key store feature</a>
feature in KMS, which combines the convenience and extensive integration
of KMS with the isolation and control of a single-tenant key store.</p>
<p>Before you create the custom key store, you must assemble the required
elements, including an CloudHSM cluster that fulfills the requirements
for a custom key store. For details about the required elements, see
<a href="https://docs.aws.amazon.com/kms/latest/developerguide/create-keystore.html#before-keystore" class="external-link">Assemble the Prerequisites</a>
in the <em>Key Management Service Developer Guide</em>.</p>
<p>When the operation completes successfully, it returns the ID of the new
custom key store. Before you can use your new custom key store, you need
to use the <code><a href="kms_connect_custom_key_store.html">connect_custom_key_store</a></code>
operation to connect the new key store to its CloudHSM cluster. Even if
you are not going to use your custom key store immediately, you might
want to connect it to verify that all settings are correct and then
disconnect it until you are ready to use it.</p>
<p>For help with failures, see <a href="https://docs.aws.amazon.com/kms/latest/developerguide/fix-keystore.html" class="external-link">Troubleshooting a Custom Key Store</a>
in the <em>Key Management Service Developer Guide</em>.</p>
<p><strong>Cross-account use</strong>: No. You cannot perform this operation on a custom
key store in a different Amazon Web Services account.</p>
<p><strong>Required permissions</strong>:
<a href="https://docs.aws.amazon.com/kms/latest/developerguide/kms-api-permissions-reference.html" class="external-link">kms:CreateCustomKeyStore</a>
(IAM policy).</p>
<p><strong>Related operations:</strong></p><ul><li><p><code><a href="kms_connect_custom_key_store.html">connect_custom_key_store</a></code></p></li>
<li><p><code><a href="kms_delete_custom_key_store.html">delete_custom_key_store</a></code></p></li>
<li><p><code><a href="kms_describe_custom_key_stores.html">describe_custom_key_stores</a></code></p></li>
<li><p><code><a href="kms_disconnect_custom_key_store.html">disconnect_custom_key_store</a></code></p></li>
<li><p><code><a href="kms_update_custom_key_store.html">update_custom_key_store</a></code></p></li>
</ul></div>

    <div id="ref-usage">
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">kms_create_custom_key_store</span><span class="op">(</span><span class="va">CustomKeyStoreName</span>, <span class="va">CloudHsmClusterId</span>,</span>
<span>  <span class="va">TrustAnchorCertificate</span>, <span class="va">KeyStorePassword</span><span class="op">)</span></span></code></pre></div>
    </div>

    <div id="arguments">
    <h2>Arguments</h2>
    <dl><dt>CustomKeyStoreName</dt>
<dd><p>[required] Specifies a friendly name for the custom key store. The name must be
unique in your Amazon Web Services account.</p></dd>


<dt>CloudHsmClusterId</dt>
<dd><p>Identifies the CloudHSM cluster for the custom key store. Enter the
cluster ID of any active CloudHSM cluster that is not already associated
with a custom key store. To find the cluster ID, use the
<a href="https://docs.aws.amazon.com/cloudhsm/latest/APIReference/API_DescribeClusters.html" class="external-link">DescribeClusters</a>
operation.</p></dd>


<dt>TrustAnchorCertificate</dt>
<dd><p>Enter the content of the trust anchor certificate for the cluster. This
is the content of the <code>customerCA.crt</code> file that you created when you
<a href="https://docs.aws.amazon.com/cloudhsm/latest/userguide/initialize-cluster.html" class="external-link">initialized the cluster</a>.</p></dd>


<dt>KeyStorePassword</dt>
<dd><p>Enter the password of the <a href="https://docs.aws.amazon.com/kms/latest/developerguide/#concept-kmsuser" class="external-link"><code>kmsuser</code> crypto user (CU) account</a>
in the specified CloudHSM cluster. KMS logs into the cluster as this
user to manage key material on your behalf.</p>
<p>The password must be a string of 7 to 32 characters. Its value is case
sensitive.</p>
<p>This parameter tells KMS the <code>kmsuser</code> account password; it does not
change the password in the CloudHSM cluster.</p></dd>

</dl></div>
    <div id="value">
    <h2>Value</h2>
    

<p>A list with the following syntax:</p>


<p></p><div class="sourceCode"><pre><code><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a><span class="fu">list</span>(</span>
<span id="cb1-2"><a href="#cb1-2" aria-hidden="true" tabindex="-1"></a>  <span class="at">CustomKeyStoreId =</span> <span class="st">"string"</span></span>
<span id="cb1-3"><a href="#cb1-3" aria-hidden="true" tabindex="-1"></a>)</span></code></pre><p></p></div>


    </div>
    <div id="request-syntax">
    <h2>Request syntax</h2>
    


<p></p><div class="sourceCode"><pre><code><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a>svc<span class="sc">$</span><span class="fu">create_custom_key_store</span>(</span>
<span id="cb1-2"><a href="#cb1-2" aria-hidden="true" tabindex="-1"></a>  <span class="at">CustomKeyStoreName =</span> <span class="st">"string"</span>,</span>
<span id="cb1-3"><a href="#cb1-3" aria-hidden="true" tabindex="-1"></a>  <span class="at">CloudHsmClusterId =</span> <span class="st">"string"</span>,</span>
<span id="cb1-4"><a href="#cb1-4" aria-hidden="true" tabindex="-1"></a>  <span class="at">TrustAnchorCertificate =</span> <span class="st">"string"</span>,</span>
<span id="cb1-5"><a href="#cb1-5" aria-hidden="true" tabindex="-1"></a>  <span class="at">KeyStorePassword =</span> <span class="st">"string"</span></span>
<span id="cb1-6"><a href="#cb1-6" aria-hidden="true" tabindex="-1"></a>)</span></code></pre><p></p></div>
    </div>

    <div id="ref-examples">
    <h2>Examples</h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="kw">if</span> <span class="op">(</span><span class="cn">FALSE</span><span class="op">)</span> <span class="op">{</span></span>
<span><span class="co"># This example creates a custom key store that is associated with an AWS</span></span>
<span><span class="co"># CloudHSM cluster.</span></span>
<span><span class="va">svc</span><span class="op">$</span><span class="fu">create_custom_key_store</span><span class="op">(</span></span>
<span>  CloudHsmClusterId <span class="op">=</span> <span class="st">"cluster-1a23b4cdefg"</span>,</span>
<span>  CustomKeyStoreName <span class="op">=</span> <span class="st">"ExampleKeyStore"</span>,</span>
<span>  KeyStorePassword <span class="op">=</span> <span class="st">"kmsPswd"</span>,</span>
<span>  TrustAnchorCertificate <span class="op">=</span> <span class="st">"&lt;certificate-goes-here&gt;"</span></span>
<span><span class="op">)</span></span>
<span><span class="op">}</span></span>
<span></span></code></pre></div>
    </div>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <nav id="toc" data-toggle="toc" class="sticky-top"><h2 data-toc-skip>Contents</h2>
    </nav></div>
</div>


      <footer><div class="copyright">
  <p></p><p>Developed by David Kretch, Adam Banker, Dyfan Jones.</p>
</div>

<div class="pkgdown">
  <p></p><p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.7.</p>
</div>

      </footer></div>

  


  

  </body></html>

