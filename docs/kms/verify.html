<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0"><title>Verifies a digital signature that was generated by the Sign operation — kms_verify • paws</title><!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script><!-- Bootstrap --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous"><script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="../bootstrap-toc.css"><script href="../bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous"><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet"><script href="../pkgdown.js"></script><meta property="og:title" content="Verifies a digital signature that was generated by the Sign operation — kms_verify"><meta property="og:description" content="Verifies a digital signature that was generated by the
sign operation.
Verification confirms that an authorized user signed the message with
the specified KMS key and signing algorithm, and the message hasn't
changed since it was signed. If the signature is verified, the value of
the SignatureValid field in the response is True. If the signature
verification fails, the verify operation fails with an
KMSInvalidSignatureException exception.
A digital signature is generated by using the private key in an
asymmetric KMS key. The signature is verified by using the public key in
the same asymmetric KMS key. For information about asymmetric KMS keys,
see Asymmetric KMS keys
in the Key Management Service Developer Guide.
To verify a digital signature, you can use the verify
operation. Specify the same asymmetric KMS key, message, and signing
algorithm that were used to produce the signature.
You can also verify the digital signature by using the public key of the
KMS key outside of KMS. Use the get_public_key
operation to download the public key in the asymmetric KMS key and then
use the public key to verify the signature outside of KMS. To verify a
signature outside of KMS with an SM2 public key, you must specify the
distinguishing ID. By default, KMS uses 1234567812345678 as the
distinguishing ID. For more information, see Offline verification with SM2 key pairs
in Key Management Service Developer Guide. The advantage of using the
verify operation is that it is performed within KMS. As
a result, it's easy to call, the operation is performed within the FIPS
boundary, it is logged in CloudTrail, and you can use key policy and IAM
policy to determine who is authorized to use the KMS key to verify
signatures.
The KMS key that you use for this operation must be in a compatible key
state. For details, see Key states of KMS keys
in the Key Management Service Developer Guide.
Cross-account use: Yes. To perform this operation with a KMS key in
a different Amazon Web Services account, specify the key ARN or alias
ARN in the value of the KeyId parameter.
Required permissions:
kms:Verify
(key policy)
Related operations: sign"><!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]--></head><body data-spy="scroll" data-target="#toc">
    

    <div class="container template-reference-topic">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="..">paws</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="">0.2.0</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav"><li>
</li>
<li>
</li>
      </ul><ul class="nav navbar-nav navbar-right"><li>
  <a href="https://github.com/paws-r/paws/" class="external-link">
    <span class="fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul></div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      

      </header><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Verifies a digital signature that was generated by the Sign operation</h1>
    <small class="dont-index">Source: <a href="https://github.com/paws-r/paws/blob/HEAD/R/kms_operations.R" class="external-link"><code>R/kms_operations.R</code></a></small>
    <div class="hidden name"><code>kms_verify.Rd</code></div>
    </div>

    <div class="ref-description">
    <p>Verifies a digital signature that was generated by the
<code><a href="kms_sign.html">sign</a></code> operation.</p>
<p>Verification confirms that an authorized user signed the message with
the specified KMS key and signing algorithm, and the message hasn't
changed since it was signed. If the signature is verified, the value of
the <code>SignatureValid</code> field in the response is <code>True</code>. If the signature
verification fails, the <code>verify</code> operation fails with an
<code>KMSInvalidSignatureException</code> exception.</p>
<p>A digital signature is generated by using the private key in an
asymmetric KMS key. The signature is verified by using the public key in
the same asymmetric KMS key. For information about asymmetric KMS keys,
see <a href="https://docs.aws.amazon.com/kms/latest/developerguide/symmetric-asymmetric.html" class="external-link">Asymmetric KMS keys</a>
in the <em>Key Management Service Developer Guide</em>.</p>
<p>To verify a digital signature, you can use the <code>verify</code>
operation. Specify the same asymmetric KMS key, message, and signing
algorithm that were used to produce the signature.</p>
<p>You can also verify the digital signature by using the public key of the
KMS key outside of KMS. Use the <code><a href="kms_get_public_key.html">get_public_key</a></code>
operation to download the public key in the asymmetric KMS key and then
use the public key to verify the signature outside of KMS. To verify a
signature outside of KMS with an SM2 public key, you must specify the
distinguishing ID. By default, KMS uses <code>1234567812345678</code> as the
distinguishing ID. For more information, see <a href="https://docs.aws.amazon.com/kms/latest/developerguide/asymmetric-key-specs.html#key-spec-sm-offline-verification" class="external-link">Offline verification with SM2 key pairs</a>
in <em>Key Management Service Developer Guide</em>. The advantage of using the
<code>verify</code> operation is that it is performed within KMS. As
a result, it's easy to call, the operation is performed within the FIPS
boundary, it is logged in CloudTrail, and you can use key policy and IAM
policy to determine who is authorized to use the KMS key to verify
signatures.</p>
<p>The KMS key that you use for this operation must be in a compatible key
state. For details, see <a href="https://docs.aws.amazon.com/kms/latest/developerguide/key-state.html" class="external-link">Key states of KMS keys</a>
in the <em>Key Management Service Developer Guide</em>.</p>
<p><strong>Cross-account use</strong>: Yes. To perform this operation with a KMS key in
a different Amazon Web Services account, specify the key ARN or alias
ARN in the value of the <code>KeyId</code> parameter.</p>
<p><strong>Required permissions</strong>:
<a href="https://docs.aws.amazon.com/kms/latest/developerguide/kms-api-permissions-reference.html" class="external-link">kms:Verify</a>
(key policy)</p>
<p><strong>Related operations</strong>: <code><a href="kms_sign.html">sign</a></code></p>
    </div>

    <div id="ref-usage">
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">kms_verify</span><span class="op">(</span><span class="va">KeyId</span>, <span class="va">Message</span>, <span class="va">MessageType</span>, <span class="va">Signature</span>, <span class="va">SigningAlgorithm</span>,</span>
<span>  <span class="va">GrantTokens</span><span class="op">)</span></span></code></pre></div>
    </div>

    <div id="arguments">
    <h2>Arguments</h2>
    <dl><dt>KeyId</dt>
<dd><p>[required] Identifies the asymmetric KMS key that will be used to verify the
signature. This must be the same KMS key that was used to generate the
signature. If you specify a different KMS key, the signature
verification fails.</p>
<p>To specify a KMS key, use its key ID, key ARN, alias name, or alias ARN.
When using an alias name, prefix it with <code>"alias/"</code>. To specify a KMS
key in a different Amazon Web Services account, you must use the key ARN
or alias ARN.</p>
<p>For example:</p><ul><li><p>Key ID: <code>1234abcd-12ab-34cd-56ef-1234567890ab</code></p></li>
<li><p>Key ARN:
<code>arn:aws:kms:us-east-2:111122223333:key/1234abcd-12ab-34cd-56ef-1234567890ab</code></p></li>
<li><p>Alias name: <code>alias/ExampleAlias</code></p></li>
<li><p>Alias ARN: <code>arn:aws:kms:us-east-2:111122223333:alias/ExampleAlias</code></p></li>
</ul><p>To get the key ID and key ARN for a KMS key, use
<code><a href="kms_list_keys.html">list_keys</a></code> or <code><a href="kms_describe_key.html">describe_key</a></code>. To
get the alias name and alias ARN, use
<code><a href="kms_list_aliases.html">list_aliases</a></code>.</p></dd>


<dt>Message</dt>
<dd><p>[required] Specifies the message that was signed. You can submit a raw message of
up to 4096 bytes, or a hash digest of the message. If you submit a
digest, use the <code>MessageType</code> parameter with a value of <code>DIGEST</code>.</p>
<p>If the message specified here is different from the message that was
signed, the signature verification fails. A message and its hash digest
are considered to be the same message.</p></dd>


<dt>MessageType</dt>
<dd><p>Tells KMS whether the value of the <code>Message</code> parameter is a message or
message digest. The default value, RAW, indicates a message. To indicate
a message digest, enter <code>DIGEST</code>.</p>
<p>Use the <code>DIGEST</code> value only when the value of the <code>Message</code> parameter is
a message digest. If you use the <code>DIGEST</code> value with a raw message, the
security of the verification operation can be compromised.</p></dd>


<dt>Signature</dt>
<dd><p>[required] The signature that the <code><a href="kms_sign.html">sign</a></code> operation generated.</p></dd>


<dt>SigningAlgorithm</dt>
<dd><p>[required] The signing algorithm that was used to sign the message. If you submit a
different algorithm, the signature verification fails.</p></dd>


<dt>GrantTokens</dt>
<dd><p>A list of grant tokens.</p>
<p>Use a grant token when your permission to call this operation comes from
a new grant that has not yet achieved <em>eventual consistency</em>. For more
information, see <a href="https://docs.aws.amazon.com/kms/latest/developerguide/grants.html#grant_token" class="external-link">Grant token</a>
and <a href="https://docs.aws.amazon.com/kms/latest/developerguide/grant-manage.html#using-grant-token" class="external-link">Using a grant token</a>
in the <em>Key Management Service Developer Guide</em>.</p></dd>

</dl></div>
    <div id="value">
    <h2>Value</h2>
    

<p>A list with the following syntax:</p>


<p></p><div class="sourceCode"><pre><code><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a><span class="fu">list</span>(</span>
<span id="cb1-2"><a href="#cb1-2" aria-hidden="true" tabindex="-1"></a>  <span class="at">KeyId =</span> <span class="st">"string"</span>,</span>
<span id="cb1-3"><a href="#cb1-3" aria-hidden="true" tabindex="-1"></a>  <span class="at">SignatureValid =</span> <span class="cn">TRUE</span><span class="sc">|</span><span class="cn">FALSE</span>,</span>
<span id="cb1-4"><a href="#cb1-4" aria-hidden="true" tabindex="-1"></a>  <span class="at">SigningAlgorithm =</span> <span class="st">"RSASSA_PSS_SHA_256"</span><span class="sc">|</span><span class="st">"RSASSA_PSS_SHA_384"</span><span class="sc">|</span><span class="st">"RSASSA_PSS_SHA_512"</span><span class="sc">|</span><span class="st">"RSASSA_PKCS1_V1_5_SHA_256"</span><span class="sc">|</span><span class="st">"RSASSA_PKCS1_V1_5_SHA_384"</span><span class="sc">|</span><span class="st">"RSASSA_PKCS1_V1_5_SHA_512"</span><span class="sc">|</span><span class="st">"ECDSA_SHA_256"</span><span class="sc">|</span><span class="st">"ECDSA_SHA_384"</span><span class="sc">|</span><span class="st">"ECDSA_SHA_512"</span><span class="sc">|</span><span class="st">"SM2DSA"</span></span>
<span id="cb1-5"><a href="#cb1-5" aria-hidden="true" tabindex="-1"></a>)</span></code></pre><p></p></div>


    </div>
    <div id="request-syntax">
    <h2>Request syntax</h2>
    


<p></p><div class="sourceCode"><pre><code><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a>svc<span class="sc">$</span><span class="fu">verify</span>(</span>
<span id="cb1-2"><a href="#cb1-2" aria-hidden="true" tabindex="-1"></a>  <span class="at">KeyId =</span> <span class="st">"string"</span>,</span>
<span id="cb1-3"><a href="#cb1-3" aria-hidden="true" tabindex="-1"></a>  <span class="at">Message =</span> raw,</span>
<span id="cb1-4"><a href="#cb1-4" aria-hidden="true" tabindex="-1"></a>  <span class="at">MessageType =</span> <span class="st">"RAW"</span><span class="sc">|</span><span class="st">"DIGEST"</span>,</span>
<span id="cb1-5"><a href="#cb1-5" aria-hidden="true" tabindex="-1"></a>  <span class="at">Signature =</span> raw,</span>
<span id="cb1-6"><a href="#cb1-6" aria-hidden="true" tabindex="-1"></a>  <span class="at">SigningAlgorithm =</span> <span class="st">"RSASSA_PSS_SHA_256"</span><span class="sc">|</span><span class="st">"RSASSA_PSS_SHA_384"</span><span class="sc">|</span><span class="st">"RSASSA_PSS_SHA_512"</span><span class="sc">|</span><span class="st">"RSASSA_PKCS1_V1_5_SHA_256"</span><span class="sc">|</span><span class="st">"RSASSA_PKCS1_V1_5_SHA_384"</span><span class="sc">|</span><span class="st">"RSASSA_PKCS1_V1_5_SHA_512"</span><span class="sc">|</span><span class="st">"ECDSA_SHA_256"</span><span class="sc">|</span><span class="st">"ECDSA_SHA_384"</span><span class="sc">|</span><span class="st">"ECDSA_SHA_512"</span><span class="sc">|</span><span class="st">"SM2DSA"</span>,</span>
<span id="cb1-7"><a href="#cb1-7" aria-hidden="true" tabindex="-1"></a>  <span class="at">GrantTokens =</span> <span class="fu">list</span>(</span>
<span id="cb1-8"><a href="#cb1-8" aria-hidden="true" tabindex="-1"></a>    <span class="st">"string"</span></span>
<span id="cb1-9"><a href="#cb1-9" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb1-10"><a href="#cb1-10" aria-hidden="true" tabindex="-1"></a>)</span></code></pre><p></p></div>
    </div>

    <div id="ref-examples">
    <h2>Examples</h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="kw">if</span> <span class="op">(</span><span class="cn">FALSE</span><span class="op">)</span> <span class="op">{</span></span>
<span><span class="co"># This operation uses the public key in an elliptic curve (ECC) asymmetric</span></span>
<span><span class="co"># key to verify a digital signature within AWS KMS.</span></span>
<span><span class="va">svc</span><span class="op">$</span><span class="fu">verify</span><span class="op">(</span></span>
<span>  KeyId <span class="op">=</span> <span class="st">"alias/ECC_signing_key"</span>,</span>
<span>  Message <span class="op">=</span> <span class="st">"&lt;message to be verified&gt;"</span>,</span>
<span>  MessageType <span class="op">=</span> <span class="st">"RAW"</span>,</span>
<span>  Signature <span class="op">=</span> <span class="st">"&lt;binary data&gt;"</span>,</span>
<span>  SigningAlgorithm <span class="op">=</span> <span class="st">"ECDSA_SHA_384"</span></span>
<span><span class="op">)</span></span>
<span><span class="op">}</span></span>
<span></span></code></pre></div>
    </div>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <nav id="toc" data-toggle="toc" class="sticky-top"><h2 data-toc-skip>Contents</h2>
    </nav></div>
</div>


      <footer><div class="copyright">
  <p></p><p>Developed by David Kretch, Adam Banker, Dyfan Jones.</p>
</div>

<div class="pkgdown">
  <p></p><p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.7.</p>
</div>

      </footer></div>

  


  

  </body></html>

