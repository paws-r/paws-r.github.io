<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0"><title>Connects or reconnects a custom key store to its associated CloudHSM
cluster — kms_connect_custom_key_store • paws</title><!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script><!-- Bootstrap --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous"><script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="../bootstrap-toc.css"><script href="../bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous"><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet"><script href="../pkgdown.js"></script><meta property="og:title" content="Connects or reconnects a custom key store to its associated CloudHSM
cluster — kms_connect_custom_key_store"><meta property="og:description" content="Connects or reconnects a custom key store
to its associated CloudHSM cluster.
The custom key store must be connected before you can create KMS keys in
the key store or use the KMS keys it contains. You can disconnect and
reconnect a custom key store at any time.
To connect a custom key store, its associated CloudHSM cluster must have
at least one active HSM. To get the number of active HSMs in a cluster,
use the
DescribeClusters
operation. To add HSMs to the cluster, use the
CreateHsm
operation. Also, the kmsuser crypto user
(CU) must not be logged into the cluster. This prevents KMS from using
this account to log in.
The connection process can take an extended amount of time to complete;
up to 20 minutes. This operation starts the connection process, but it
does not wait for it to complete. When it succeeds, this operation
quickly returns an HTTP 200 response and a JSON object with no
properties. However, this response does not indicate that the custom key
store is connected. To get the connection state of the custom key store,
use the describe_custom_key_stores
operation.
During the connection process, KMS finds the CloudHSM cluster that is
associated with the custom key store, creates the connection
infrastructure, connects to the cluster, logs into the CloudHSM client
as the kmsuser CU, and rotates its password.
The connect_custom_key_store operation
might fail for various reasons. To find the reason, use the
describe_custom_key_stores operation
and see the ConnectionErrorCode in the response. For help interpreting
the ConnectionErrorCode, see CustomKeyStoresListEntry.
To fix the failure, use the
disconnect_custom_key_store
operation to disconnect the custom key store, correct the error, use the
update_custom_key_store operation if
necessary, and then use
connect_custom_key_store again.
If you are having trouble connecting or disconnecting a custom key
store, see Troubleshooting a Custom Key Store
in the Key Management Service Developer Guide.
Cross-account use: No. You cannot perform this operation on a custom
key store in a different Amazon Web Services account.
Required permissions:
kms:ConnectCustomKeyStore
(IAM policy)
Related operations
create_custom_key_store
delete_custom_key_store
describe_custom_key_stores
disconnect_custom_key_store
update_custom_key_store

"><!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]--></head><body data-spy="scroll" data-target="#toc">
    

    <div class="container template-reference-topic">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="..">paws</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="">0.2.0</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav"><li>
</li>
<li>
</li>
      </ul><ul class="nav navbar-nav navbar-right"><li>
  <a href="https://github.com/paws-r/paws/" class="external-link">
    <span class="fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul></div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      

      </header><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Connects or reconnects a custom key store to its associated CloudHSM
cluster</h1>
    <small class="dont-index">Source: <a href="https://github.com/paws-r/paws/blob/HEAD/R/kms_operations.R" class="external-link"><code>R/kms_operations.R</code></a></small>
    <div class="hidden name"><code>kms_connect_custom_key_store.Rd</code></div>
    </div>

    <div class="ref-description">
    <p>Connects or reconnects a <a href="https://docs.aws.amazon.com/kms/latest/developerguide/custom-key-store-overview.html" class="external-link">custom key store</a>
to its associated CloudHSM cluster.</p>
<p>The custom key store must be connected before you can create KMS keys in
the key store or use the KMS keys it contains. You can disconnect and
reconnect a custom key store at any time.</p>
<p>To connect a custom key store, its associated CloudHSM cluster must have
at least one active HSM. To get the number of active HSMs in a cluster,
use the
<a href="https://docs.aws.amazon.com/cloudhsm/latest/APIReference/API_DescribeClusters.html" class="external-link">DescribeClusters</a>
operation. To add HSMs to the cluster, use the
<a href="https://docs.aws.amazon.com/cloudhsm/latest/APIReference/API_CreateHsm.html" class="external-link">CreateHsm</a>
operation. Also, the <a href="https://docs.aws.amazon.com/kms/latest/developerguide/#concept-kmsuser" class="external-link"><code>kmsuser</code> crypto user</a>
(CU) must not be logged into the cluster. This prevents KMS from using
this account to log in.</p>
<p>The connection process can take an extended amount of time to complete;
up to 20 minutes. This operation starts the connection process, but it
does not wait for it to complete. When it succeeds, this operation
quickly returns an HTTP 200 response and a JSON object with no
properties. However, this response does not indicate that the custom key
store is connected. To get the connection state of the custom key store,
use the <code><a href="kms_describe_custom_key_stores.html">describe_custom_key_stores</a></code>
operation.</p>
<p>During the connection process, KMS finds the CloudHSM cluster that is
associated with the custom key store, creates the connection
infrastructure, connects to the cluster, logs into the CloudHSM client
as the <code>kmsuser</code> CU, and rotates its password.</p>
<p>The <code>connect_custom_key_store</code> operation
might fail for various reasons. To find the reason, use the
<code><a href="kms_describe_custom_key_stores.html">describe_custom_key_stores</a></code> operation
and see the <code>ConnectionErrorCode</code> in the response. For help interpreting
the <code>ConnectionErrorCode</code>, see CustomKeyStoresListEntry.</p>
<p>To fix the failure, use the
<code><a href="kms_disconnect_custom_key_store.html">disconnect_custom_key_store</a></code>
operation to disconnect the custom key store, correct the error, use the
<code><a href="kms_update_custom_key_store.html">update_custom_key_store</a></code> operation if
necessary, and then use
<code>connect_custom_key_store</code> again.</p>
<p>If you are having trouble connecting or disconnecting a custom key
store, see <a href="https://docs.aws.amazon.com/kms/latest/developerguide/fix-keystore.html" class="external-link">Troubleshooting a Custom Key Store</a>
in the <em>Key Management Service Developer Guide</em>.</p>
<p><strong>Cross-account use</strong>: No. You cannot perform this operation on a custom
key store in a different Amazon Web Services account.</p>
<p><strong>Required permissions</strong>:
<a href="https://docs.aws.amazon.com/kms/latest/developerguide/kms-api-permissions-reference.html" class="external-link">kms:ConnectCustomKeyStore</a>
(IAM policy)</p>
<p><strong>Related operations</strong></p><ul><li><p><code><a href="kms_create_custom_key_store.html">create_custom_key_store</a></code></p></li>
<li><p><code><a href="kms_delete_custom_key_store.html">delete_custom_key_store</a></code></p></li>
<li><p><code><a href="kms_describe_custom_key_stores.html">describe_custom_key_stores</a></code></p></li>
<li><p><code><a href="kms_disconnect_custom_key_store.html">disconnect_custom_key_store</a></code></p></li>
<li><p><code><a href="kms_update_custom_key_store.html">update_custom_key_store</a></code></p></li>
</ul></div>

    <div id="ref-usage">
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">kms_connect_custom_key_store</span><span class="op">(</span><span class="va">CustomKeyStoreId</span><span class="op">)</span></span></code></pre></div>
    </div>

    <div id="arguments">
    <h2>Arguments</h2>
    <dl><dt>CustomKeyStoreId</dt>
<dd><p>[required] Enter the key store ID of the custom key store that you want to connect.
To find the ID of a custom key store, use the
<code><a href="kms_describe_custom_key_stores.html">describe_custom_key_stores</a></code>
operation.</p></dd>

</dl></div>
    <div id="value">
    <h2>Value</h2>
    

<p>An empty list.</p>
    </div>
    <div id="request-syntax">
    <h2>Request syntax</h2>
    


<p></p><div class="sourceCode"><pre><code><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a>svc<span class="sc">$</span><span class="fu">connect_custom_key_store</span>(</span>
<span id="cb1-2"><a href="#cb1-2" aria-hidden="true" tabindex="-1"></a>  <span class="at">CustomKeyStoreId =</span> <span class="st">"string"</span></span>
<span id="cb1-3"><a href="#cb1-3" aria-hidden="true" tabindex="-1"></a>)</span></code></pre><p></p></div>
    </div>

    <div id="ref-examples">
    <h2>Examples</h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="kw">if</span> <span class="op">(</span><span class="cn">FALSE</span><span class="op">)</span> <span class="op">{</span></span>
<span><span class="co"># This example connects an AWS KMS custom key store to its AWS CloudHSM</span></span>
<span><span class="co"># cluster. This operation does not return any data. To verify that the</span></span>
<span><span class="co"># custom key store is connected, use the</span></span>
<span><span class="co"># &lt;code&gt;DescribeCustomKeyStores&lt;/code&gt; operation.</span></span>
<span><span class="va">svc</span><span class="op">$</span><span class="fu">connect_custom_key_store</span><span class="op">(</span></span>
<span>  CustomKeyStoreId <span class="op">=</span> <span class="st">"cks-1234567890abcdef0"</span></span>
<span><span class="op">)</span></span>
<span><span class="op">}</span></span>
<span></span></code></pre></div>
    </div>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <nav id="toc" data-toggle="toc" class="sticky-top"><h2 data-toc-skip>Contents</h2>
    </nav></div>
</div>


      <footer><div class="copyright">
  <p></p><p>Developed by David Kretch, Adam Banker, Dyfan Jones.</p>
</div>

<div class="pkgdown">
  <p></p><p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.7.</p>
</div>

      </footer></div>

  


  

  </body></html>

