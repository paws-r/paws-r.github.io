<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0"><title>Creates or updates a metric stream — cloudwatch_put_metric_stream • paws</title><!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script><!-- Bootstrap --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous"><script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="../bootstrap-toc.css"><script href="../bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous"><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet"><script href="../pkgdown.js"></script><meta property="og:title" content="Creates or updates a metric stream — cloudwatch_put_metric_stream"><meta property="og:description" content="Creates or updates a metric stream. Metric streams can automatically
stream CloudWatch metrics to Amazon Web Services destinations including
Amazon S3 and to many third-party solutions.
For more information, see Using Metric Streams.
To create a metric stream, you must be logged on to an account that has
the iam:PassRole permission and either the CloudWatchFullAccess
policy or the cloudwatch:PutMetricStream permission.
When you create or update a metric stream, you choose one of the
following:
Stream metrics from all metric namespaces in the account.
Stream metrics from all metric namespaces in the account, except for
the namespaces that you list in ExcludeFilters.
Stream metrics from only the metric namespaces that you list in
IncludeFilters.


By default, a metric stream always sends the MAX, MIN, SUM, and
SAMPLECOUNT statistics for each metric that is streamed. You can use
the StatisticsConfigurations parameter to have the metric stream also
send additional statistics in the stream. Streaming additional
statistics incurs additional costs. For more information, see Amazon CloudWatch Pricing.
When you use put_metric_stream to
create a new metric stream, the stream is created in the running
state. If you use it to update an existing stream, the state of the
stream is not changed."><!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]--></head><body data-spy="scroll" data-target="#toc">
    

    <div class="container template-reference-topic">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="..">paws</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="">0.2.0</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav"><li>
</li>
<li>
</li>
      </ul><ul class="nav navbar-nav navbar-right"><li>
  <a href="https://github.com/paws-r/paws/" class="external-link">
    <span class="fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul></div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      

      </header><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Creates or updates a metric stream</h1>
    <small class="dont-index">Source: <a href="https://github.com/paws-r/paws/blob/HEAD/R/cloudwatch_operations.R" class="external-link"><code>R/cloudwatch_operations.R</code></a></small>
    <div class="hidden name"><code>cloudwatch_put_metric_stream.Rd</code></div>
    </div>

    <div class="ref-description">
    <p>Creates or updates a metric stream. Metric streams can automatically
stream CloudWatch metrics to Amazon Web Services destinations including
Amazon S3 and to many third-party solutions.</p>
<p>For more information, see <a href="https://docs.aws.amazon.com/AmazonCloudWatch/latest/monitoring/CloudWatch-Metric-Streams.html" class="external-link">Using Metric Streams</a>.</p>
<p>To create a metric stream, you must be logged on to an account that has
the <code>iam:PassRole</code> permission and either the <code>CloudWatchFullAccess</code>
policy or the <code>cloudwatch:PutMetricStream</code> permission.</p>
<p>When you create or update a metric stream, you choose one of the
following:</p><ul><li><p>Stream metrics from all metric namespaces in the account.</p></li>
<li><p>Stream metrics from all metric namespaces in the account, except for
the namespaces that you list in <code>ExcludeFilters</code>.</p></li>
<li><p>Stream metrics from only the metric namespaces that you list in
<code>IncludeFilters</code>.</p></li>
</ul><p>By default, a metric stream always sends the <code>MAX</code>, <code>MIN</code>, <code>SUM</code>, and
<code>SAMPLECOUNT</code> statistics for each metric that is streamed. You can use
the <code>StatisticsConfigurations</code> parameter to have the metric stream also
send additional statistics in the stream. Streaming additional
statistics incurs additional costs. For more information, see <a href="https://aws.amazon.com/cloudwatch/pricing/" class="external-link">Amazon CloudWatch Pricing</a>.</p>
<p>When you use <code>put_metric_stream</code> to
create a new metric stream, the stream is created in the <code>running</code>
state. If you use it to update an existing stream, the state of the
stream is not changed.</p>
    </div>

    <div id="ref-usage">
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">cloudwatch_put_metric_stream</span><span class="op">(</span><span class="va">Name</span>, <span class="va">IncludeFilters</span>, <span class="va">ExcludeFilters</span>,</span>
<span>  <span class="va">FirehoseArn</span>, <span class="va">RoleArn</span>, <span class="va">OutputFormat</span>, <span class="va">Tags</span>, <span class="va">StatisticsConfigurations</span><span class="op">)</span></span></code></pre></div>
    </div>

    <div id="arguments">
    <h2>Arguments</h2>
    <dl><dt>Name</dt>
<dd><p>[required] If you are creating a new metric stream, this is the name for the new
stream. The name must be different than the names of other metric
streams in this account and Region.</p>
<p>If you are updating a metric stream, specify the name of that stream
here.</p>
<p>Valid characters are A-Z, a-z, 0-9, "-" and "_".</p></dd>


<dt>IncludeFilters</dt>
<dd><p>If you specify this parameter, the stream sends only the metrics from
the metric namespaces that you specify here.</p>
<p>You cannot include <code>IncludeFilters</code> and <code>ExcludeFilters</code> in the same
operation.</p></dd>


<dt>ExcludeFilters</dt>
<dd><p>If you specify this parameter, the stream sends metrics from all metric
namespaces except for the namespaces that you specify here.</p>
<p>You cannot include <code>ExcludeFilters</code> and <code>IncludeFilters</code> in the same
operation.</p></dd>


<dt>FirehoseArn</dt>
<dd><p>[required] The ARN of the Amazon Kinesis Firehose delivery stream to use for this
metric stream. This Amazon Kinesis Firehose delivery stream must already
exist and must be in the same account as the metric stream.</p></dd>


<dt>RoleArn</dt>
<dd><p>[required] The ARN of an IAM role that this metric stream will use to access Amazon
Kinesis Firehose resources. This IAM role must already exist and must be
in the same account as the metric stream. This IAM role must include the
following permissions:</p><ul><li><p>firehose:PutRecord</p></li>
<li><p>firehose:PutRecordBatch</p></li>
</ul></dd>


<dt>OutputFormat</dt>
<dd><p>[required] The output format for the stream. Valid values are <code>json</code> and
<code>opentelemetry0.7</code>. For more information about metric stream output
formats, see <a href="https://docs.aws.amazon.com/AmazonCloudWatch/latest/monitoring/CloudWatch-metric-streams-formats.html" class="external-link">Metric streams output formats</a>.</p></dd>


<dt>Tags</dt>
<dd><p>A list of key-value pairs to associate with the metric stream. You can
associate as many as 50 tags with a metric stream.</p>
<p>Tags can help you organize and categorize your resources. You can also
use them to scope user permissions by granting a user permission to
access or change only resources with certain tag values.</p>
<p>You can use this parameter only when you are creating a new metric
stream. If you are using this operation to update an existing metric
stream, any tags you specify in this parameter are ignored. To change
the tags of an existing metric stream, use
<code><a href="cloudwatch_tag_resource.html">tag_resource</a></code> or
<code><a href="cloudwatch_untag_resource.html">untag_resource</a></code>.</p></dd>


<dt>StatisticsConfigurations</dt>
<dd><p>By default, a metric stream always sends the <code>MAX</code>, <code>MIN</code>, <code>SUM</code>, and
<code>SAMPLECOUNT</code> statistics for each metric that is streamed. You can use
this parameter to have the metric stream also send additional statistics
in the stream. This array can have up to 100 members.</p>
<p>For each entry in this array, you specify one or more metrics and the
list of additional statistics to stream for those metrics. The
additional statistics that you can stream depend on the stream's
<code>OutputFormat</code>. If the <code>OutputFormat</code> is <code>json</code>, you can stream any
additional statistic that is supported by CloudWatch, listed in
<a href="https://docs.aws.amazon.com/AmazonCloudWatch/latest/monitoring/" class="external-link">CloudWatch statistics definitions</a>.
If the <code>OutputFormat</code> is <code>opentelemetry0.7</code>, you can stream percentile
statistics such as p95, p99.9 and so on.</p></dd>

</dl></div>
    <div id="value">
    <h2>Value</h2>
    

<p>A list with the following syntax:</p>


<p></p><div class="sourceCode"><pre><code><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a><span class="fu">list</span>(</span>
<span id="cb1-2"><a href="#cb1-2" aria-hidden="true" tabindex="-1"></a>  <span class="at">Arn =</span> <span class="st">"string"</span></span>
<span id="cb1-3"><a href="#cb1-3" aria-hidden="true" tabindex="-1"></a>)</span></code></pre><p></p></div>


    </div>
    <div id="request-syntax">
    <h2>Request syntax</h2>
    


<p></p><div class="sourceCode"><pre><code><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a>svc<span class="sc">$</span><span class="fu">put_metric_stream</span>(</span>
<span id="cb1-2"><a href="#cb1-2" aria-hidden="true" tabindex="-1"></a>  <span class="at">Name =</span> <span class="st">"string"</span>,</span>
<span id="cb1-3"><a href="#cb1-3" aria-hidden="true" tabindex="-1"></a>  <span class="at">IncludeFilters =</span> <span class="fu">list</span>(</span>
<span id="cb1-4"><a href="#cb1-4" aria-hidden="true" tabindex="-1"></a>    <span class="fu">list</span>(</span>
<span id="cb1-5"><a href="#cb1-5" aria-hidden="true" tabindex="-1"></a>      <span class="at">Namespace =</span> <span class="st">"string"</span></span>
<span id="cb1-6"><a href="#cb1-6" aria-hidden="true" tabindex="-1"></a>    )</span>
<span id="cb1-7"><a href="#cb1-7" aria-hidden="true" tabindex="-1"></a>  ),</span>
<span id="cb1-8"><a href="#cb1-8" aria-hidden="true" tabindex="-1"></a>  <span class="at">ExcludeFilters =</span> <span class="fu">list</span>(</span>
<span id="cb1-9"><a href="#cb1-9" aria-hidden="true" tabindex="-1"></a>    <span class="fu">list</span>(</span>
<span id="cb1-10"><a href="#cb1-10" aria-hidden="true" tabindex="-1"></a>      <span class="at">Namespace =</span> <span class="st">"string"</span></span>
<span id="cb1-11"><a href="#cb1-11" aria-hidden="true" tabindex="-1"></a>    )</span>
<span id="cb1-12"><a href="#cb1-12" aria-hidden="true" tabindex="-1"></a>  ),</span>
<span id="cb1-13"><a href="#cb1-13" aria-hidden="true" tabindex="-1"></a>  <span class="at">FirehoseArn =</span> <span class="st">"string"</span>,</span>
<span id="cb1-14"><a href="#cb1-14" aria-hidden="true" tabindex="-1"></a>  <span class="at">RoleArn =</span> <span class="st">"string"</span>,</span>
<span id="cb1-15"><a href="#cb1-15" aria-hidden="true" tabindex="-1"></a>  <span class="at">OutputFormat =</span> <span class="st">"json"</span><span class="sc">|</span><span class="st">"opentelemetry0.7"</span>,</span>
<span id="cb1-16"><a href="#cb1-16" aria-hidden="true" tabindex="-1"></a>  <span class="at">Tags =</span> <span class="fu">list</span>(</span>
<span id="cb1-17"><a href="#cb1-17" aria-hidden="true" tabindex="-1"></a>    <span class="fu">list</span>(</span>
<span id="cb1-18"><a href="#cb1-18" aria-hidden="true" tabindex="-1"></a>      <span class="at">Key =</span> <span class="st">"string"</span>,</span>
<span id="cb1-19"><a href="#cb1-19" aria-hidden="true" tabindex="-1"></a>      <span class="at">Value =</span> <span class="st">"string"</span></span>
<span id="cb1-20"><a href="#cb1-20" aria-hidden="true" tabindex="-1"></a>    )</span>
<span id="cb1-21"><a href="#cb1-21" aria-hidden="true" tabindex="-1"></a>  ),</span>
<span id="cb1-22"><a href="#cb1-22" aria-hidden="true" tabindex="-1"></a>  <span class="at">StatisticsConfigurations =</span> <span class="fu">list</span>(</span>
<span id="cb1-23"><a href="#cb1-23" aria-hidden="true" tabindex="-1"></a>    <span class="fu">list</span>(</span>
<span id="cb1-24"><a href="#cb1-24" aria-hidden="true" tabindex="-1"></a>      <span class="at">IncludeMetrics =</span> <span class="fu">list</span>(</span>
<span id="cb1-25"><a href="#cb1-25" aria-hidden="true" tabindex="-1"></a>        <span class="fu">list</span>(</span>
<span id="cb1-26"><a href="#cb1-26" aria-hidden="true" tabindex="-1"></a>          <span class="at">Namespace =</span> <span class="st">"string"</span>,</span>
<span id="cb1-27"><a href="#cb1-27" aria-hidden="true" tabindex="-1"></a>          <span class="at">MetricName =</span> <span class="st">"string"</span></span>
<span id="cb1-28"><a href="#cb1-28" aria-hidden="true" tabindex="-1"></a>        )</span>
<span id="cb1-29"><a href="#cb1-29" aria-hidden="true" tabindex="-1"></a>      ),</span>
<span id="cb1-30"><a href="#cb1-30" aria-hidden="true" tabindex="-1"></a>      <span class="at">AdditionalStatistics =</span> <span class="fu">list</span>(</span>
<span id="cb1-31"><a href="#cb1-31" aria-hidden="true" tabindex="-1"></a>        <span class="st">"string"</span></span>
<span id="cb1-32"><a href="#cb1-32" aria-hidden="true" tabindex="-1"></a>      )</span>
<span id="cb1-33"><a href="#cb1-33" aria-hidden="true" tabindex="-1"></a>    )</span>
<span id="cb1-34"><a href="#cb1-34" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb1-35"><a href="#cb1-35" aria-hidden="true" tabindex="-1"></a>)</span></code></pre><p></p></div>
    </div>

  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <nav id="toc" data-toggle="toc" class="sticky-top"><h2 data-toc-skip>Contents</h2>
    </nav></div>
</div>


      <footer><div class="copyright">
  <p></p><p>Developed by David Kretch, Adam Banker, Dyfan Jones.</p>
</div>

<div class="pkgdown">
  <p></p><p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.7.</p>
</div>

      </footer></div>

  


  

  </body></html>

